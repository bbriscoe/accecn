<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by rfcdiff 1.45: rfcdiff  -->
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux c728f7009bdd 5.14.21-150400.24.38-default #1 SMP PREEMPT_DYNAMIC Fri Dec 9 09:29:22 UTC 2022 (e9c5676) x86_64 x86_64 x86_64 GNU/Linux -->
<!-- Using awk: /usr/bin/gawk: GNU Awk 5.1.0, API: 3.0 (GNU MPFR 4.1.0, GNU MP 6.2.1) -->
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.8 -->
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.2 -->
<html xmlns="http://www.w3.org/1999/xhtml"><head> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <meta http-equiv="Content-Style-Type" content="text/css"> 
  <title>Diff: draft-ietf-tcpm-accurate-ecn-25.txt - draft-ietf-tcpm-accurate-ecn-26.txt</title> 
  <style type="text/css"> 
    body    { margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
    span.hide { display: none; color: #aaa;}    a:hover span { display: inline; }    tr.change { background-color: gray; } 
    tr.change a { text-decoration: none; color: black } 
  </style> 
     <script>
var chunk_index = 0;
var old_chunk = null;

function format_chunk(index) {
    var prefix = "diff";
    var str = index.toString();
    for (x=0; x<(4-str.length); ++x) {
        prefix+='0';
    }
    return prefix + str;
}

function find_chunk(n){
    return document.querySelector('tr[id$="' + n + '"]');
}

function change_chunk(offset) {
    var index = chunk_index + offset;
    var new_str;
    var new_chunk;

    new_str = format_chunk(index);
    new_chunk = find_chunk(new_str);
    if (!new_chunk) {
        return;
    }
    if (old_chunk) {
        old_chunk.style.outline = "";
    }
    old_chunk = new_chunk;
    old_chunk.style.outline = "1px solid red";
    window.location.hash = "#" + new_str;
    window.scrollBy(0,-100);
    chunk_index = index;
}

document.onkeydown = function(e) {
    switch (e.keyCode) {
    case 78:
        change_chunk(1);
        break;
    case 80:
        change_chunk(-1);
        break;
    }
};
   </script> 
</head> 
<body> 
  <table border="0" cellspacing="0" cellpadding="0"> 
  <tbody><tr id="part-1" bgcolor="orange"><th><br>
</th><th>&nbsp;draft-ietf-tcpm-accurate-ecn-25.txt&nbsp;</th><th> <br>
</th><th>&nbsp;draft-ietf-tcpm-accurate-ecn-26.txt&nbsp;</th><th><br>
</th></tr> 
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">TCP Maintenance &amp; Minor Extensions (tcpm)                     B. Briscoe</td><td> </td><td class="right">TCP Maintenance &amp; Minor Extensions (tcpm)                     B. Briscoe</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">Internet-Draft                                               Independent</td><td> </td><td class="right">Internet-Draft                                               Independent</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">Updates: 3168 (if approved)                                 M. Kühlewind</td><td> </td><td class="right">Updates: 3168 (if approved)                                 M. Kühlewind</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">Intended status: Standards Track                                Ericsson</td><td> </td><td class="right">Intended status: Standards Track                                Ericsson</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">Expires: 25 January 2024                                R. Scheffenegger</td><td> </td><td class="right">Expires: 25 January 2024                                R. Scheffenegger</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">                                                                  NetApp</td><td> </td><td class="right">                                                                  NetApp</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">                                                            24 July 2023</td><td> </td><td class="right">                                                            24 July 2023</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">  More Accurate Explicit Congestion Notification (ECN) Feedback in TCP</td><td> </td><td class="right">  More Accurate Explicit Congestion Notification (ECN) Feedback in TCP</td><td class="lineno"><br></td></tr>
      <tr id="diff0001"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">                    draft-ietf-tcpm-accurate-ecn-2<span class="delete">5</span></td><td> </td><td class="rblock">                    draft-ietf-tcpm-accurate-ecn-2<span class="insert">6</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">Abstract</td><td> </td><td class="right">Abstract</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Explicit Congestion Notification (ECN) is a mechanism where network</td><td> </td><td class="right">   Explicit Congestion Notification (ECN) is a mechanism where network</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   nodes can mark IP packets instead of dropping them to indicate</td><td> </td><td class="right">   nodes can mark IP packets instead of dropping them to indicate</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   incipient congestion to the endpoints.  Receivers with an ECN-capable</td><td> </td><td class="right">   incipient congestion to the endpoints.  Receivers with an ECN-capable</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   transport protocol feed back this information to the sender.  ECN was</td><td> </td><td class="right">   transport protocol feed back this information to the sender.  ECN was</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   originally specified for TCP in such a way that only one feedback</td><td> </td><td class="right">   originally specified for TCP in such a way that only one feedback</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   signal can be transmitted per Round-Trip Time (RTT).  Recent new TCP</td><td> </td><td class="right">   signal can be transmitted per Round-Trip Time (RTT).  Recent new TCP</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   mechanisms like Congestion Exposure (ConEx), Data Center TCP (DCTCP)</td><td> </td><td class="right">   mechanisms like Congestion Exposure (ConEx), Data Center TCP (DCTCP)</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-2" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-2"><em> page 2, line 38<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-2"><em> page 2, line 38<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   4</td><td> </td><td class="right">   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   4</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     1.1.  Document Roadmap  . . . . . . . . . . . . . . . . . . . .   5</td><td> </td><td class="right">     1.1.  Document Roadmap  . . . . . . . . . . . . . . . . . . . .   5</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     1.2.  Goals . . . . . . . . . . . . . . . . . . . . . . . . . .   6</td><td> </td><td class="right">     1.2.  Goals . . . . . . . . . . . . . . . . . . . . . . . . . .   6</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     1.3.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   6</td><td> </td><td class="right">     1.3.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   6</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     1.4.  Recap of Existing ECN feedback in IP/TCP  . . . . . . . .   7</td><td> </td><td class="right">     1.4.  Recap of Existing ECN feedback in IP/TCP  . . . . . . . .   7</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   2.  AccECN Protocol Overview and Rationale  . . . . . . . . . . .   8</td><td> </td><td class="right">   2.  AccECN Protocol Overview and Rationale  . . . . . . . . . . .   8</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     2.1.  Capability Negotiation  . . . . . . . . . . . . . . . . .   9</td><td> </td><td class="right">     2.1.  Capability Negotiation  . . . . . . . . . . . . . . . . .   9</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     2.2.  Feedback Mechanism  . . . . . . . . . . . . . . . . . . .  10</td><td> </td><td class="right">     2.2.  Feedback Mechanism  . . . . . . . . . . . . . . . . . . .  10</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     2.3.  Delayed ACKs and Resilience Against ACK Loss  . . . . . .  10</td><td> </td><td class="right">     2.3.  Delayed ACKs and Resilience Against ACK Loss  . . . . . .  10</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     2.4.  Feedback Metrics  . . . . . . . . . . . . . . . . . . . .  11</td><td> </td><td class="right">     2.4.  Feedback Metrics  . . . . . . . . . . . . . . . . . . . .  11</td><td class="lineno"><br></td></tr>
      <tr id="diff0002"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     2.5.  Generic (Mechanistic) Reflector . . . . . . . . . . . . .  1<span class="delete">1</span></td><td> </td><td class="rblock">     2.5.  Generic (Mechanistic) Reflector . . . . . . . . . . . . .  1<span class="insert">2</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   3.  AccECN Protocol Specification . . . . . . . . . . . . . . . .  12</td><td> </td><td class="right">   3.  AccECN Protocol Specification . . . . . . . . . . . . . . . .  12</td><td class="lineno"><br></td></tr>
      <tr id="diff0003"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     3.1.  Negotiating to use AccECN . . . . . . . . . . . . . . . .  <span class="delete">12</span></td><td> </td><td class="rblock">     3.1.  Negotiating to use AccECN . . . . . . . . . . . . . . . .  <span class="insert">13</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       3.1.1.  Negotiation during the TCP handshake  . . . . . . . .  <span class="delete">12</span></td><td> </td><td class="rblock">       3.1.1.  Negotiation during the TCP handshake  . . . . . . . .  <span class="insert">13</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       3.1.2.  Backward Compatibility  . . . . . . . . . . . . . . .  <span class="delete">13</span></td><td> </td><td class="rblock">       3.1.2.  Backward Compatibility  . . . . . . . . . . . . . . .  <span class="insert">14</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       3.1.3.  Forward Compatibility . . . . . . . . . . . . . . . .  16</td><td> </td><td class="right">       3.1.3.  Forward Compatibility . . . . . . . . . . . . . . . .  16</td><td class="lineno"><br></td></tr>
      <tr id="diff0004"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       3.1.4.  Retransmitted SYNs  . . . . . . . . . . . . . . . . .  <span class="delete">16</span></td><td> </td><td class="rblock">       3.1.4.  <span class="insert">Multiple SYNs or SYN/ACKs . . . . . . . . . . . . . .  17</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       3.1.5.  Implications of AccECN Mode . . . . . . . . . . . . .  <span class="delete">17</span></td><td> </td><td class="rblock"><span class="insert">         3.1.4.1.</span>  Retransmitted SYNs  . . . . . . . . . . . . . . .  <span class="insert">17</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     3.2.  AccECN Feedback . . . . . . . . . . . . . . . . . . . . .  <span class="delete">19</span></td><td> </td><td class="rblock"><span class="insert">         3.1.4.2.  Retransmitted SYN/ACKs  . . . . . .</span> . . <span class="insert">. . . . .  18</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       3.2.1.  Initialization of Feedback Counters . . . . . . . . .  <span class="delete">20</span></td><td> </td><td class="rblock">       3.1.5.  Implications of AccECN Mode . . . . . . . . . . . . .  <span class="insert">19</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       3.2.2.  The ACE Field . . . . . . . . . . . . . . . . . . . .  <span class="delete">20</span></td><td> </td><td class="rblock">     3.2.  AccECN Feedback . . . . . . . . . . . . . . . . . . . . .  <span class="insert">23</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         3.2.2.1.  ACE Field on the ACK of the SYN/ACK . . . . . . .  <span class="delete">21</span></td><td> </td><td class="rblock">       3.2.1.  Initialization of Feedback Counters . . . . . . . . .  <span class="insert">24</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">       3.2.2.  The ACE Field . . . . . . . . . . . . . . . . . . . .  <span class="insert">24</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">         3.2.2.1.  ACE Field on the ACK of the SYN/ACK . . . . . . .  <span class="insert">25</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         3.2.2.2.  Encoding and Decoding Feedback in the ACE</td><td> </td><td class="right">         3.2.2.2.  Encoding and Decoding Feedback in the ACE</td><td class="lineno"><br></td></tr>
      <tr id="diff0005"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">                 Field . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">24</span></td><td> </td><td class="rblock">                 Field . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">28</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         3.2.2.3.  Testing for Mangling of the IP/ECN Field  . . . .  <span class="delete">25</span></td><td> </td><td class="rblock">         3.2.2.3.  Testing for Mangling of the IP/ECN Field  . . . .  <span class="insert">30</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         3.2.2.4.  Testing for Zeroing of the ACE Field  . . . . . .  <span class="delete">27</span></td><td> </td><td class="rblock">         3.2.2.4.  Testing for Zeroing of the ACE Field  . . . . . .  <span class="insert">32</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         3.2.2.5.  Safety against Ambiguity of the ACE Field . . . .  <span class="delete">28</span></td><td> </td><td class="rblock">         3.2.2.5.  Safety against Ambiguity of the ACE Field . . . .  <span class="insert">33</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       3.2.3.  The AccECN Option . . . . . . . . . . . . . . . . . .  <span class="delete">31</span></td><td> </td><td class="rblock">       3.2.3.  The AccECN Option . . . . . . . . . . . . . . . . . .  <span class="insert">35</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         3.2.3.1.  Encoding and Decoding Feedback in the AccECN Option</td><td> </td><td class="right">         3.2.3.1.  Encoding and Decoding Feedback in the AccECN Option</td><td class="lineno"><br></td></tr>
      <tr id="diff0006"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">                 Fields  . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">33</span></td><td> </td><td class="rblock">                 Fields  . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">38</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         3.2.3.2.  Path Traversal of the AccECN Option . . . . . . .  <span class="delete">33</span></td><td> </td><td class="rblock">         3.2.3.2.  Path Traversal of the AccECN Option . . . . . . .  <span class="insert">38</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         3.2.3.3.  Usage of the AccECN TCP Option  . . . . . . . . .  <span class="delete">37</span></td><td> </td><td class="rblock">         3.2.3.3.  Usage of the AccECN TCP Option  . . . . . . . . .  <span class="insert">42</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     3.3.  AccECN Compliance Requirements for TCP Proxies, Offload</td><td> </td><td class="right">     3.3.  AccECN Compliance Requirements for TCP Proxies, Offload</td><td class="lineno"><br></td></tr>
      <tr id="diff0007"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">           Engines and other Middleboxes . . . . . . . . . . . . . .  <span class="delete">40</span></td><td> </td><td class="rblock">           Engines and other Middleboxes . . . . . . . . . . . . . .  <span class="insert">45</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       3.3.1.  Requirements for TCP Proxies  . . . . . . . . . . . .  <span class="delete">40</span></td><td> </td><td class="rblock">       3.3.1.  Requirements for TCP Proxies  . . . . . . . . . . . .  <span class="insert">45</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       3.3.2.  Requirements for Transparent Middleboxes and TCP</td><td> </td><td class="right">       3.3.2.  Requirements for Transparent Middleboxes and TCP</td><td class="lineno"><br></td></tr>
      <tr id="diff0008"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">               Normalizers . . . . . . . . . . . . . . . . . . . . .  <span class="delete">40</span></td><td> </td><td class="rblock">               Normalizers . . . . . . . . . . . . . . . . . . . . .  <span class="insert">45</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       3.3.3.  Requirements for TCP ACK Filtering  . . . . . . . . .  <span class="delete">41</span></td><td> </td><td class="rblock">       3.3.3.  Requirements for TCP ACK Filtering  . . . . . . . . .  <span class="insert">46</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       3.3.4.  Requirements for TCP Segmentation Offload . . . . . .  <span class="delete">42</span></td><td> </td><td class="rblock">       3.3.4.  Requirements for TCP Segmentation Offload . . . . . .  <span class="insert">47</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   4.  Updates to RFC 3168 . . . . . . . . . . . . . . . . . . . . .  <span class="delete">43</span></td><td> </td><td class="rblock">   4.  Updates to RFC 3168 . . . . . . . . . . . . . . . . . . . . .  <span class="insert">48</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   5.  Interaction with TCP Variants . . . . . . . . . . . . . . . .  <span class="delete">44</span></td><td> </td><td class="rblock">   5.  Interaction with TCP Variants . . . . . . . . . . . . . . . .  <span class="insert">49</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     5.1.  Compatibility with SYN Cookies  . . . . . . . . . . . . .  <span class="delete">44</span></td><td> </td><td class="rblock">     5.1.  Compatibility with SYN Cookies  . . . . . . . . . . . . .  <span class="insert">49</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     5.2.  Compatibility with TCP Experiments and Common TCP</td><td> </td><td class="right">     5.2.  Compatibility with TCP Experiments and Common TCP</td><td class="lineno"><br></td></tr>
      <tr id="diff0009"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">           Options . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">45</span></td><td> </td><td class="rblock">           Options . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">50</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     5.3.  Compatibility with Feedback Integrity Mechanisms  . . . .  <span class="delete">45</span></td><td> </td><td class="rblock">     5.3.  Compatibility with Feedback Integrity Mechanisms  . . . .  <span class="insert">50</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   6.  Summary: Protocol Properties  . . . . . . . . . . . . . . . .  <span class="delete">46</span></td><td> </td><td class="rblock">   6.  Summary: Protocol Properties  . . . . . . . . . . . . . . . .  <span class="insert">51</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <span class="delete">48</span></td><td> </td><td class="rblock">   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <span class="insert">54</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   8.  Security Considerations . . . . . . . . . . . . . . . . . . .  <span class="delete">50</span></td><td> </td><td class="rblock">   8.  Security Considerations . . . . . . . . . . . . . . . . . . .  <span class="insert">55</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">51</span></td><td> </td><td class="rblock">   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">56</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  <span class="delete">51</span></td><td> </td><td class="rblock">     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  <span class="insert">56</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     9.2.  Informative References  . . . . . . . . . . . . . . . . .  <span class="delete">51</span></td><td> </td><td class="rblock">     9.2.  Informative References  . . . . . . . . . . . . . . . . .  <span class="insert">57</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Appendix A.  Example Algorithms . . . . . . . . . . . . . . . . .  <span class="delete">54</span></td><td> </td><td class="rblock">   Appendix A.  Example Algorithms . . . . . . . . . . . . . . . . .  <span class="insert">59</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     A.1.  Example Algorithm to Encode/Decode the AccECN Option  . .  <span class="delete">54</span></td><td> </td><td class="rblock">     A.1.  Example Algorithm to Encode/Decode the AccECN Option  . .  <span class="insert">59</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     A.2.  Example Algorithm for Safety Against Long Sequences of ACK</td><td> </td><td class="right">     A.2.  Example Algorithm for Safety Against Long Sequences of ACK</td><td class="lineno"><br></td></tr>
      <tr id="diff0010"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">           Loss  . . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">55</span></td><td> </td><td class="rblock">           Loss  . . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">60</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       A.2.1.  Safety Algorithm without the AccECN Option  . . . . .  <span class="delete">55</span></td><td> </td><td class="rblock">       A.2.1.  Safety Algorithm without the AccECN Option  . . . . .  <span class="insert">61</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       A.2.2.  Safety Algorithm with the AccECN Option . . . . . . .  <span class="delete">58</span></td><td> </td><td class="rblock">       A.2.2.  Safety Algorithm with the AccECN Option . . . . . . .  <span class="insert">63</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">     A.3.  Example Algorithm to Estimate Marked Bytes from Marked</td><td> </td><td class="right">     A.3.  Example Algorithm to Estimate Marked Bytes from Marked</td><td class="lineno"><br></td></tr>
      <tr id="diff0011"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">           Packets . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">59</span></td><td> </td><td class="rblock">           Packets . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">65</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     A.4.  Example Algorithm to Count Not-ECT Bytes  . . . . . . . .  <span class="delete">60</span></td><td> </td><td class="rblock">     A.4.  Example Algorithm to Count Not-ECT Bytes  . . . . . . . .  <span class="insert">65</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Appendix B.  Rationale for Usage of TCP Header Flags  . . . . . .  <span class="delete">60</span></td><td> </td><td class="rblock">   Appendix B.  Rationale for Usage of TCP Header Flags  . . . . . .  <span class="insert">66</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     B.1.  Three TCP Header Flags in the SYN-SYN/ACK Handshake . . .  <span class="delete">60</span></td><td> </td><td class="rblock">     B.1.  Three TCP Header Flags in the SYN-SYN/ACK Handshake . . .  <span class="insert">66</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     B.2.  Four Codepoints in the SYN/ACK  . . . . . . . . . . . . .  <span class="delete">61</span></td><td> </td><td class="rblock">     B.2.  Four Codepoints in the SYN/ACK  . . . . . . . . . . . . .  <span class="insert">67</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">     B.3.  Space for Future Evolution  . . . . . . . . . . . . . . .  <span class="delete">62</span></td><td> </td><td class="rblock">     B.3.  Space for Future Evolution  . . . . . . . . . . . . . . .  <span class="insert">67</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">63</span></td><td> </td><td class="rblock">   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">69</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Comments Solicited  . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">64</span></td><td> </td><td class="rblock">   Comments Solicited  . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">69</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">64</span></td><td> </td><td class="rblock">   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">70</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">1.  Introduction</td><td> </td><td class="right">1.  Introduction</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Explicit Congestion Notification (ECN) [RFC3168] is a mechanism where</td><td> </td><td class="right">   Explicit Congestion Notification (ECN) [RFC3168] is a mechanism where</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   network nodes can mark IP packets instead of dropping them to</td><td> </td><td class="right">   network nodes can mark IP packets instead of dropping them to</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   indicate incipient congestion to the endpoints.  Receivers with an</td><td> </td><td class="right">   indicate incipient congestion to the endpoints.  Receivers with an</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ECN-capable transport protocol feed back this information to the</td><td> </td><td class="right">   ECN-capable transport protocol feed back this information to the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   sender.  In RFC 3168, ECN was specified for TCP in such a way that</td><td> </td><td class="right">   sender.  In RFC 3168, ECN was specified for TCP in such a way that</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   only one feedback signal could be transmitted per Round-Trip Time</td><td> </td><td class="right">   only one feedback signal could be transmitted per Round-Trip Time</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   (RTT).  Recently, proposed mechanisms like Congestion Exposure (ConEx</td><td> </td><td class="right">   (RTT).  Recently, proposed mechanisms like Congestion Exposure (ConEx</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-3" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-3"><em> page 5, line 14<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-3"><em> page 5, line 14<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   during the TCP handshake, the two ends use these three bits in the</td><td> </td><td class="right">   during the TCP handshake, the two ends use these three bits in the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   TCP header to negotiate the most advanced feedback protocol that they</td><td> </td><td class="right">   TCP header to negotiate the most advanced feedback protocol that they</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   can both support, in a way that is backward compatible with</td><td> </td><td class="right">   can both support, in a way that is backward compatible with</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC3168].</td><td> </td><td class="right">   [RFC3168].</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   AccECN is solely a change to the TCP wire protocol; it covers the</td><td> </td><td class="right">   AccECN is solely a change to the TCP wire protocol; it covers the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   negotiation and signaling of more accurate ECN feedback from a TCP</td><td> </td><td class="right">   negotiation and signaling of more accurate ECN feedback from a TCP</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Data Receiver to a Data Sender.  It is completely independent of how</td><td> </td><td class="right">   Data Receiver to a Data Sender.  It is completely independent of how</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   TCP might respond to congestion feedback, which is out of scope, but</td><td> </td><td class="right">   TCP might respond to congestion feedback, which is out of scope, but</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ultimately the motivation for accurate ECN feedback.  Like Classic</td><td> </td><td class="right">   ultimately the motivation for accurate ECN feedback.  Like Classic</td><td class="lineno"><br></td></tr>
      <tr id="diff0012"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   ECN feedback, AccECN can be used by standard Reno congestion control</td><td> </td><td class="rblock">   ECN feedback, AccECN can be used by standard Reno <span class="insert">or CUBIC</span> congestion</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   [RFC5681] to respond to the existence of at least one congestion</td><td> </td><td class="rblock">   control [RFC5681] <span class="insert">[I-D.ietf-tcpm-rfc8312bis]</span> to respond to the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   notification within a round trip.  Or, unlike <span class="delete">Reno,</span> AccECN can be</td><td> </td><td class="rblock">   existence of at least one congestion notification within a round</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   used to respond to the extent of congestion notification over a round</td><td> </td><td class="rblock">   trip.  Or, unlike <span class="insert">Reno or CUBIC,</span> AccECN can be used to respond to the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   trip, as for example DCTCP does in controlled environments [RFC8257].</td><td> </td><td class="rblock">   extent of congestion notification over a round trip, as for example</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   For congestion response, this specification refers to <span class="delete">RFC 3168, or</span></td><td> </td><td class="rblock">   DCTCP does in controlled environments [RFC8257].  For congestion</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   ECN experiments <span class="delete">such as</span> those referred to in [RFC8311], namely: a</td><td> </td><td class="rblock">   response, this specification refers to <span class="insert">[RFC3168], as updated to allow</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">TCP-based</span> Low Latency Low Loss Scalable (L4S) congestion control</td><td> </td><td class="rblock">   ECN experiments <span class="insert">like</span> those referred to in [RFC8311], namely: a <span class="insert">TCP-</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   based</span> Low Latency Low Loss Scalable (L4S) congestion control</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC9330]; or Alternative Backoff with ECN (ABE) [RFC8511].</td><td> </td><td class="right">   [RFC9330]; or Alternative Backoff with ECN (ABE) [RFC8511].</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0013"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   <span class="insert">Section 5.2 explains how AccECN is compatible with current commonly</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   used TCP options, and a number of current experimental modifications</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   to TCP, as well as SYN cookies.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   It is RECOMMENDED that the AccECN protocol is implemented alongside</td><td> </td><td class="right">   It is RECOMMENDED that the AccECN protocol is implemented alongside</td><td class="lineno"><br></td></tr>
      <tr id="diff0014"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   SACK <span class="delete">[RFC2018] and the experimental ECN++ protocol</span></td><td> </td><td class="rblock">   SACK <span class="insert">[RFC2018].</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   [I-D.ietf-tcpm-generalized-ecn], which allows the ECN capability to</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   be used on TCP control packets.  Therefore, this specification does</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   not discuss implementing AccECN alongside [RFC5562], which was an</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   earlier experimental protocol with narrower scope than ECN++.</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">1.1.  Document Roadmap</td><td> </td><td class="right">1.1.  Document Roadmap</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   The following introductory section outlines the goals of AccECN</td><td> </td><td class="right">   The following introductory section outlines the goals of AccECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   (Section 1.2).  Then, terminology is defined (Section 1.3) and a</td><td> </td><td class="right">   (Section 1.2).  Then, terminology is defined (Section 1.3) and a</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   recap of existing prerequisite technology is given (Section 1.4).</td><td> </td><td class="right">   recap of existing prerequisite technology is given (Section 1.4).</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Section 2 gives an informative overview of the AccECN protocol.  Then</td><td> </td><td class="right">   Section 2 gives an informative overview of the AccECN protocol.  Then</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Section 3 gives the normative protocol specification, and Section 3.3</td><td> </td><td class="right">   Section 3 gives the normative protocol specification, and Section 3.3</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   collects together requirements for proxies, offload engines and other</td><td> </td><td class="right">   collects together requirements for proxies, offload engines and other</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-4" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-4"><em> page 6, line 39<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-4"><em> page 6, line 43<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Classic ECN feedback:  The feedback aspect of the ECN protocol</td><td> </td><td class="right">   Classic ECN feedback:  The feedback aspect of the ECN protocol</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      specified in [RFC3168], including generation, encoding,</td><td> </td><td class="right">      specified in [RFC3168], including generation, encoding,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      transmission and decoding of feedback, but not the Data Sender's</td><td> </td><td class="right">      transmission and decoding of feedback, but not the Data Sender's</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      subsequent response to that feedback.</td><td> </td><td class="right">      subsequent response to that feedback.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ACK:  A TCP acknowledgement, with or without a data payload (ACK=1).</td><td> </td><td class="right">   ACK:  A TCP acknowledgement, with or without a data payload (ACK=1).</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Pure ACK:  A TCP acknowledgement without a data payload.</td><td> </td><td class="right">   Pure ACK:  A TCP acknowledgement without a data payload.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Acceptable packet / segment:  A packet or segment that passes the</td><td> </td><td class="right">   Acceptable packet / segment:  A packet or segment that passes the</td><td class="lineno"><br></td></tr>
      <tr id="diff0015"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      acceptability tests in [RFC9293] and <span class="delete">[RFC5961].</span></td><td> </td><td class="rblock">      acceptability tests in [RFC9293] and <span class="insert">[RFC5961], or that has passed</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      other tests with equivalent protection.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0016"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   TCP Client:  The TCP stack that originates a <span class="delete">connection.</span></td><td> </td><td class="rblock">   TCP Client:  The TCP stack that originates a <span class="insert">connection (the</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      initiator).</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0017"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   TCP Server:  The TCP stack that responds to a connection <span class="delete">request.</span></td><td> </td><td class="rblock">   TCP Server:  The TCP stack that responds to a connection <span class="insert">request (the</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      listener).</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Data Receiver:  The endpoint of a TCP half-connection that receives</td><td> </td><td class="right">   Data Receiver:  The endpoint of a TCP half-connection that receives</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      data and sends AccECN feedback.</td><td> </td><td class="right">      data and sends AccECN feedback.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Data Sender:  The endpoint of a TCP half-connection that sends data</td><td> </td><td class="right">   Data Sender:  The endpoint of a TCP half-connection that sends data</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      and receives AccECN feedback.</td><td> </td><td class="right">      and receives AccECN feedback.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   In a mild abuse of terminology, this document sometimes refers to</td><td> </td><td class="right">   In a mild abuse of terminology, this document sometimes refers to</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   'TCP packets' instead of 'TCP segments'.</td><td> </td><td class="right">   'TCP packets' instead of 'TCP segments'.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-5" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-5"><em> page 13, line 35<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-5"><em> page 13, line 43<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   or SYN/ACK (see Section 2.5 for rationale).</td><td> </td><td class="right">   or SYN/ACK (see Section 2.5 for rationale).</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   When the TCP Server returns any of the 4 combinations in the top</td><td> </td><td class="right">   When the TCP Server returns any of the 4 combinations in the top</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   block of Table 2, it confirms that it supports AccECN.  The TCP</td><td> </td><td class="right">   block of Table 2, it confirms that it supports AccECN.  The TCP</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Server MUST NOT set one of these 4 combination of flags on the SYN/</td><td> </td><td class="right">   Server MUST NOT set one of these 4 combination of flags on the SYN/</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ACK unless the preceding SYN requested support for AccECN as above.</td><td> </td><td class="right">   ACK unless the preceding SYN requested support for AccECN as above.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Once a TCP Client (A) has sent the above SYN to declare that it</td><td> </td><td class="right">   Once a TCP Client (A) has sent the above SYN to declare that it</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   supports AccECN, and once it has received the above SYN/ACK segment</td><td> </td><td class="right">   supports AccECN, and once it has received the above SYN/ACK segment</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   that confirms that the TCP Server supports AccECN, the TCP Client</td><td> </td><td class="right">   that confirms that the TCP Server supports AccECN, the TCP Client</td><td class="lineno"><br></td></tr>
      <tr id="diff0018"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   MUST set both its half connections into AccECN mode.</td><td> </td><td class="rblock">   MUST set both its half connections into AccECN mode.  <span class="insert">The TCP Client</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   MUST NOT enter AccECN mode (or any feedback mode) before it has</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   received the first SYN/ACK.</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Once in AccECN mode, a TCP Client or Server has the rights and</td><td> </td><td class="right">   Once in AccECN mode, a TCP Client or Server has the rights and</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   obligations to participate in the ECN protocol defined in</td><td> </td><td class="right">   obligations to participate in the ECN protocol defined in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Section 3.1.5.</td><td> </td><td class="right">   Section 3.1.5.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0019"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   The <span class="delete">procedure for the TCP Client</span> to follow <span class="delete">if a SYN/ACK does not</span></td><td> </td><td class="rblock">   The <span class="insert">procedures</span> to follow <span class="insert">for</span> retransmission <span class="insert">of SYNs or SYN/ACKs are</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   arrive before its</span> retransmission <span class="delete">timer expires is</span> given in</td><td> </td><td class="rblock">   given in Section 3.1.4.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Section 3.1.4.</td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">3.1.2.  Backward Compatibility</td><td> </td><td class="right">3.1.2.  Backward Compatibility</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   The three flags set to 1 to indicate AccECN support on the SYN have</td><td> </td><td class="right">   The three flags set to 1 to indicate AccECN support on the SYN have</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   been carefully chosen to enable natural fall-back to prior stages in</td><td> </td><td class="right">   been carefully chosen to enable natural fall-back to prior stages in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the evolution of ECN.  Table 2 tabulates all the negotiation</td><td> </td><td class="right">   the evolution of ECN.  Table 2 tabulates all the negotiation</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   possibilities for ECN-related capabilities that involve at least one</td><td> </td><td class="right">   possibilities for ECN-related capabilities that involve at least one</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   AccECN-capable host.  The entries in the first two columns have been</td><td> </td><td class="right">   AccECN-capable host.  The entries in the first two columns have been</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   abbreviated, as follows:</td><td> </td><td class="right">   abbreviated, as follows:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-6" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-6"><em> page 14, line 16<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-6"><em> page 14, line 28<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       specification)</td><td> </td><td class="right">       specification)</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Nonce:  Supports ECN Nonce feedback [RFC3540]</td><td> </td><td class="right">   Nonce:  Supports ECN Nonce feedback [RFC3540]</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ECN:  Supports 'Classic' ECN feedback [RFC3168]</td><td> </td><td class="right">   ECN:  Supports 'Classic' ECN feedback [RFC3168]</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   No ECN:  Not ECN-capable.  Implicit congestion notification using</td><td> </td><td class="right">   No ECN:  Not ECN-capable.  Implicit congestion notification using</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       packet drop.</td><td> </td><td class="right">       packet drop.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +========+========+============+============+======================+</td><td> </td><td class="right">   +========+========+============+============+======================+</td><td class="lineno"><br></td></tr>
      <tr id="diff0020"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   | A      | B      |    SYN     |  SYN/ACK   | Feedback Mode <span class="delete">    </span>   |</td><td> </td><td class="rblock">   | A      | B      |    SYN     |  SYN/ACK   | Feedback Mode <span class="insert">of A</span>   |</td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   |        |        |    A-&gt;B    |    B-&gt;A    |                      |</td><td> </td><td class="right">   |        |        |    A-&gt;B    |    B-&gt;A    |                      |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   |        |        | AE CWR ECE | AE CWR ECE |                      |</td><td> </td><td class="right">   |        |        | AE CWR ECE | AE CWR ECE |                      |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +========+========+============+============+======================+</td><td> </td><td class="right">   +========+========+============+============+======================+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   | AccECN | AccECN | 1   1   1  | 0   1   0  | AccECN (Not-ECT SYN) |</td><td> </td><td class="right">   | AccECN | AccECN | 1   1   1  | 0   1   0  | AccECN (Not-ECT SYN) |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   | AccECN | AccECN | 1   1   1  | 0   1   1  | AccECN (ECT1 on SYN) |</td><td> </td><td class="right">   | AccECN | AccECN | 1   1   1  | 0   1   1  | AccECN (ECT1 on SYN) |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   | AccECN | AccECN | 1   1   1  | 1   0   0  | AccECN (ECT0 on SYN) |</td><td> </td><td class="right">   | AccECN | AccECN | 1   1   1  | 1   0   0  | AccECN (ECT0 on SYN) |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   | AccECN | AccECN | 1   1   1  | 1   1   0  | AccECN (CE on SYN)   |</td><td> </td><td class="right">   | AccECN | AccECN | 1   1   1  | 1   1   0  | AccECN (CE on SYN)   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +--------+--------+------------+------------+----------------------+</td><td> </td><td class="right">   +--------+--------+------------+------------+----------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +--------+--------+------------+------------+----------------------+</td><td> </td><td class="right">   +--------+--------+------------+------------+----------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   | AccECN | Nonce  | 1   1   1  | 1   0   1  | (Reserved)           |</td><td> </td><td class="right">   | AccECN | Nonce  | 1   1   1  | 1   0   1  | (Reserved)           |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-7" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-7"><em> page 15, line 12<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-7"><em> page 15, line 24<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       soon as an AccECN-capable TCP Client (A) receives the SYN/ACK</td><td> </td><td class="right">       soon as an AccECN-capable TCP Client (A) receives the SYN/ACK</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       shown it MUST set both its half connections into the feedback</td><td> </td><td class="right">       shown it MUST set both its half connections into the feedback</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       mode shown in the rightmost column.  If the TCP Client has set</td><td> </td><td class="right">       mode shown in the rightmost column.  If the TCP Client has set</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       itself into Classic ECN feedback mode it MUST then comply with</td><td> </td><td class="right">       itself into Classic ECN feedback mode it MUST then comply with</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       [RFC3168].</td><td> </td><td class="right">       [RFC3168].</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       An AccECN implementation has no need to recognize or support the</td><td> </td><td class="right">       An AccECN implementation has no need to recognize or support the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       Server response labelled 'Nonce' or ECN Nonce feedback more</td><td> </td><td class="right">       Server response labelled 'Nonce' or ECN Nonce feedback more</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       generally [RFC3540], which has been reclassified as historic</td><td> </td><td class="right">       generally [RFC3540], which has been reclassified as historic</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       [RFC8311].  AccECN is compatible with alternative ECN feedback</td><td> </td><td class="right">       [RFC8311].  AccECN is compatible with alternative ECN feedback</td><td class="lineno"><br></td></tr>
      <tr id="diff0021"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">       integrity approaches (see Section 5.3).</td><td> </td><td class="rblock">       integrity approaches <span class="insert">to the nonce</span> (see Section 5.3).  <span class="insert">The SYN/ACK</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">       labelled 'Nonce' with (AE,CWR,ECE) = (1,0,1) is reserved for</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">       future use.  A TCP Client (A) that receives such a SYN/ACK</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">       follows the procedure for forward compatibility given in</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">       Section 3.1.3.</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   3.  The third block shows the cases where the TCP Server (B) supports</td><td> </td><td class="right">   3.  The third block shows the cases where the TCP Server (B) supports</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       AccECN but the TCP Client (A) supports some earlier variant of</td><td> </td><td class="right">       AccECN but the TCP Client (A) supports some earlier variant of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       TCP feedback, indicated in its SYN.</td><td> </td><td class="right">       TCP feedback, indicated in its SYN.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       When an AccECN-enabled TCP Server (B) receives a SYN with</td><td> </td><td class="right">       When an AccECN-enabled TCP Server (B) receives a SYN with</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       (AE,CWR,ECE) = (0,1,1) it MUST do one of the following:</td><td> </td><td class="right">       (AE,CWR,ECE) = (0,1,1) it MUST do one of the following:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">       *  set both its half connections into the Classic ECN feedback</td><td> </td><td class="right">       *  set both its half connections into the Classic ECN feedback</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">          mode and return a SYN/ACK with (AE,CWR,ECE) = (0,0,1) as</td><td> </td><td class="right">          mode and return a SYN/ACK with (AE,CWR,ECE) = (0,0,1) as</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-8" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-8"><em> page 16, line 22<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-8"><em> page 16, line 35<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      TIME-WAIT state.  When a TCP host enters TIME-WAIT or CLOSED</td><td> </td><td class="right">      TIME-WAIT state.  When a TCP host enters TIME-WAIT or CLOSED</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      state, it ought to ignore any previous state about the negotiation</td><td> </td><td class="right">      state, it ought to ignore any previous state about the negotiation</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      of AccECN for that connection and renegotiate the feedback mode</td><td> </td><td class="right">      of AccECN for that connection and renegotiate the feedback mode</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      according to Table 2.</td><td> </td><td class="right">      according to Table 2.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">3.1.3.  Forward Compatibility</td><td> </td><td class="right">3.1.3.  Forward Compatibility</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   If a TCP Server that implements AccECN receives a SYN with the three</td><td> </td><td class="right">   If a TCP Server that implements AccECN receives a SYN with the three</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   TCP header flags (AE,CWR,ECE) set to any combination other than</td><td> </td><td class="right">   TCP header flags (AE,CWR,ECE) set to any combination other than</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   (0,0,0), (0,1,1) or (1,1,1) and it does not have logic specific to</td><td> </td><td class="right">   (0,0,0), (0,1,1) or (1,1,1) and it does not have logic specific to</td><td class="lineno"><br></td></tr>
      <tr id="diff0022"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   such a combination, <span class="delete">it</span> MUST negotiate the use of AccECN as if the</td><td> </td><td class="rblock">   such a combination, <span class="insert">the Server</span> MUST negotiate the use of AccECN as if</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   three flags had been set to (1,1,1).  <span class="delete">This ensures that future uses</span></td><td> </td><td class="rblock">   the three flags had been set to (1,1,1).  <span class="insert">However, an AccECN Client</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   of the</span> other <span class="delete">combinations on</span> a SYN <span class="delete">can rely</span> on <span class="delete">consistent behaviour</span></td><td> </td><td class="rblock"><span class="insert">   implementation MUST NOT send a SYN with any combination</span> other <span class="insert">than</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   from</span> the <span class="delete">installed base of</span> AccECN <span class="delete">Servers.  See Appendix B.3 for</span></td><td> </td><td class="rblock"><span class="insert">   the three listed.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   related discussion.</span></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   If a TCP Client has sent</span> a SYN <span class="insert">requesting AccECN feedback with</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   (AE,CWR,ECE) = (1,1,1) then receives a SYN/ACK with the currently</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   reserved combination (AE,CWR,ECE) = (1,0,1) but it does not have</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   logic specific to such a combination, the Client MUST enable AccECN</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   mode as if the SYN/ACK confirmed that the Server supported AccECN and</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   as if it fed back that the IP-ECN field</span> on the <span class="insert">SYN had arrived</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   unchanged.  However, an</span> AccECN <span class="insert">Server implementation MUST NOT send a</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   SYN/ACK with this combination (AE,CWR,ECE) = (1,0,1).</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      |  For the avoidance of doubt, the behaviour described in the</td><td> </td><td class="right">      |  For the avoidance of doubt, the behaviour described in the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      |  present specification applies whether or not the three</td><td> </td><td class="right">      |  present specification applies whether or not the three</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      |  remaining reserved TCP header flags are zero.</td><td> </td><td class="right">      |  remaining reserved TCP header flags are zero.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0023"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">3.1.4.  Retransmitted SYNs</td><td> </td><td class="rblock">   <span class="insert">All these requirements ensure that future uses of all the Reserved</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   combinations on a SYN or SYN/ACK can rely on consistent behaviour</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   from the installed base of AccECN implementations.  See Appendix B.3</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   for related discussion.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">3.1.4.  <span class="insert">Multiple SYNs or SYN/ACKs</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">3.1.4.1.</span>  Retransmitted SYNs</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   If the sender of an AccECN SYN (the TCP Client) times out before</td><td> </td><td class="right">   If the sender of an AccECN SYN (the TCP Client) times out before</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   receiving the SYN/ACK, it SHOULD attempt to negotiate the use of</td><td> </td><td class="right">   receiving the SYN/ACK, it SHOULD attempt to negotiate the use of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   AccECN at least one more time by continuing to set all three TCP ECN</td><td> </td><td class="right">   AccECN at least one more time by continuing to set all three TCP ECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   flags (AE,CWR,ECE) = (1,1,1) on the first retransmitted SYN (using</td><td> </td><td class="right">   flags (AE,CWR,ECE) = (1,1,1) on the first retransmitted SYN (using</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the usual retransmission time-outs).  If this first retransmission</td><td> </td><td class="right">   the usual retransmission time-outs).  If this first retransmission</td><td class="lineno"><br></td></tr>
      <tr id="diff0024"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   also fails to be acknowledged, the TCP Client SHOULD send subsequent</td><td> </td><td class="rblock">   also fails to be acknowledged, <span class="insert">in deployment scenarios where AccECN</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   retransmissions of the SYN with the three TCP-ECN flags cleared</td><td> </td><td class="rblock"><span class="insert">   path traversal might be problematic,</span> the TCP Client SHOULD send</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   (AE,CWR,ECE) = (0,0,0).  Such a retransmitted SYN MUST use the same</td><td> </td><td class="rblock">   subsequent retransmissions of the SYN with the three TCP-ECN flags</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   ISN as the original SYN.</td><td> </td><td class="rblock">   cleared (AE,CWR,ECE) = (0,0,0).  Such a retransmitted SYN MUST use</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   the same ISN as the original SYN.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Retrying once before fall-back adds delay in the case where a</td><td> </td><td class="right">   Retrying once before fall-back adds delay in the case where a</td><td class="lineno"><br></td></tr>
      <tr id="diff0025"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   middlebox drops an AccECN (or ECN) SYN deliberately.  However,</td><td> </td><td class="rblock">   middlebox drops an AccECN (or ECN) SYN deliberately.  However, <span class="insert">recent</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">current</span> measurements imply that a drop is less likely to be due to</td><td> </td><td class="rblock">   measurements <span class="insert">[Mandalari18]</span> imply that a drop is less likely to be due</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   middlebox interference than other intermittent causes of loss,</td><td> </td><td class="rblock">   to middlebox interference than other intermittent causes of loss,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   e.g. congestion, wireless transmission loss, etc.</td><td> </td><td class="right">   e.g. congestion, wireless transmission loss, etc.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Implementers MAY use other fall-back strategies if they are found to</td><td> </td><td class="right">   Implementers MAY use other fall-back strategies if they are found to</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   be more effective (e.g. attempting to negotiate AccECN on the SYN</td><td> </td><td class="right">   be more effective (e.g. attempting to negotiate AccECN on the SYN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   only once or more than twice (most appropriate during high levels of</td><td> </td><td class="right">   only once or more than twice (most appropriate during high levels of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   congestion).</td><td> </td><td class="right">   congestion).</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Further it might make sense to also remove any other new or</td><td> </td><td class="right">   Further it might make sense to also remove any other new or</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   experimental fields or options on the SYN in case a middlebox might</td><td> </td><td class="right">   experimental fields or options on the SYN in case a middlebox might</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   be blocking them, although the required behaviour will depend on the</td><td> </td><td class="right">   be blocking them, although the required behaviour will depend on the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   specification of the other option(s) and any attempt to co-ordinate</td><td> </td><td class="right">   specification of the other option(s) and any attempt to co-ordinate</td><td class="lineno"><br></td></tr>
      <tr id="diff0026"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   fall-back between different modules of the stack.</td><td> </td><td class="rblock">   fall-back between different modules of the stack.  <span class="insert">For instance, even</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   if taking part in an [RFC8311] experiment that allows ECT on a SYN,</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   it would be advisable to try it without.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Whichever fall-back strategy is used, the TCP initiator SHOULD cache</td><td> </td><td class="right">   Whichever fall-back strategy is used, the TCP initiator SHOULD cache</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   failed connection attempts.  If it does, it SHOULD NOT give up</td><td> </td><td class="right">   failed connection attempts.  If it does, it SHOULD NOT give up</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   attempting to negotiate AccECN on the SYN of subsequent connection</td><td> </td><td class="right">   attempting to negotiate AccECN on the SYN of subsequent connection</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   attempts until it is clear that the blockage is persistently and</td><td> </td><td class="right">   attempts until it is clear that the blockage is persistently and</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   specifically due to AccECN.  The cache needs to be arranged to expire</td><td> </td><td class="right">   specifically due to AccECN.  The cache needs to be arranged to expire</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   so that the initiator will infrequently attempt to check whether the</td><td> </td><td class="right">   so that the initiator will infrequently attempt to check whether the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   problem has been resolved.</td><td> </td><td class="right">   problem has been resolved.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   All fall-back strategies will need to follow all the normative rules</td><td> </td><td class="right">   All fall-back strategies will need to follow all the normative rules</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   in Section 3.1.5, which concern behaviour when SYNs or SYN/ACKs</td><td> </td><td class="right">   in Section 3.1.5, which concern behaviour when SYNs or SYN/ACKs</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   negotiating different types of feedback have been sent within the</td><td> </td><td class="right">   negotiating different types of feedback have been sent within the</td><td class="lineno"><br></td></tr>
      <tr id="diff0027"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   same connection.</td><td> </td><td class="rblock">   same <span class="insert">connection, including the possibility that they arrive out of</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   order.  As examples, the following non-normative bullets call out</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   those rules from Section 3.1.5 that apply to the above fall-back</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   strategies:</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  Once the TCP Client has sent SYNs with (AE,CWR,ECE) = (1,1,1) and</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      with (AE,CWR,ECE) = (0,0,0), it might eventually receive a SYN/ACK</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      from the Server in response to one, the other, or both and</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      possibly reordered;</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  Such a TCP Client enters the feedback mode appropriate to the</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      first SYN/ACK it receives according to Table 2, and it does not</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      switch to a different mode, whatever other SYN/ACKs it might</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      receive or send;</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  If a TCP Client has entered AccECN mode but then subsequently</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      sends a SYN or receives a SYN/ACK with (AE,CWR,ECE) = (0,0,0), it</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      is still allowed to set ECT on packets for the rest of the</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">      connection.  <span class="insert">Note that this rule is different to that of a Server</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      in an equivalent position (Section 3.1.5 explains).</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  Having entered AccECN mode, in general a TCP Client commits to</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      respond to any incoming congestion feedback, whether or not it</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      sets ECT on outgoing packets (for rationale and some exceptions</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      see Section 3.2.2.3, Section 3.2.2.4);</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  Having entered AccECN mode, a TCP Client commits to using AccECN</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      to feed back the IP-ECN field in incoming packets for the rest of</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      the connection, as specified in Section 3.2, even if it is not</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      itself setting ECT on outgoing packets.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">3.1.4.2.  Retransmitted SYN/ACKs</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   A TCP Server might send multiple SYN/ACKs indicating different</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   feedback modes.  For instance, when falling back to sending a SYN/ACK</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   with (AE,CWR,ECE) = (0,0,0) after previous AccECN SYN/ACKs have timed</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   out (Section 3.2.3.2.2); or to acknowledge different retransmissions</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   of the SYN (Section 3.1.4.1).</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   All fall-back strategies will need to follow all the normative rules</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   in Section 3.1.5, which concern behaviour when SYNs or SYN/ACKs</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   negotiating different types of feedback are sent within the same</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   connection, including the possibility that they arrive out of order.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   As examples, the following non-normative bullets call out those rules</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   from Section 3.1.5 that apply to the above fall-back strategies:</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  An AccECN-capable TCP Server enters the feedback mode appropriate</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      to the first SYN it receives using Table 2, and it does not switch</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      to a different mode, whatever other SYNs it might receive and</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      whatever SYN/ACKs it might send;</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  if a TCP Server in AccECN mode receives a SYN with (AE,CWR,ECE) =</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      (0,0,0), it preferably acknowledges it first using an AccECN SYN/</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      ACK, but it can retry using a SYN/ACK with (AE,CWR,ECE) = (0,0,0);</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  If a TCP Server in AccECN mode sends multiple AccECN SYN/ACKs, it</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      uses the TCP-ECN flags in each SYN/ACK to feed back the IP-ECN</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      field on the latest SYN to have arrived;</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  If a TCP Server enters AccECN mode then subsequently sends a SYN/</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      ACK or receives a SYN with (AE,CWR,ECE) = (0,0,0), it is</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      prohibited from setting ECT on any packet for the rest of the</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      connection;</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  Having entered AccECN mode, in general a TCP Server commits to</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      respond to any incoming congestion feedback, whether or not it</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      sets ECT on outgoing packets (for rationale and some exceptions</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      see Section 3.2.2.3, Section 3.2.2.4);</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  Having entered AccECN mode, a TCP Server commits to using AccECN</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      to feed back the IP-ECN field in incoming packets for the rest of</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      the connection, as specified in Section 3.2, even if it is not</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      itself setting ECT on outgoing packets.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">3.1.5.  Implications of AccECN Mode</td><td> </td><td class="right">3.1.5.  Implications of AccECN Mode</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Section 3.1.1 describes the only ways that a host can enter AccECN</td><td> </td><td class="right">   Section 3.1.1 describes the only ways that a host can enter AccECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   mode, whether as a Client or as a Server.</td><td> </td><td class="right">   mode, whether as a Client or as a Server.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0028"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">A host in</span> AccECN <span class="delete">mode</span> has the rights and obligations concerning the</td><td> </td><td class="rblock">   <span class="insert">An implementation that supports</span> AccECN has the rights and obligations</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   use of ECN defined below, which <span class="delete">build on</span> those in <span class="delete">[RFC3168] as</span></td><td> </td><td class="rblock">   concerning the use of ECN defined below, which <span class="insert">update</span> those in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   updated by [RFC8311].</span>  This section uses the following <span class="delete">definition:</span></td><td> </td><td class="rblock">   <span class="insert">Section 6.1.1 of [RFC3168].</span>  This section uses the following</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   <span class="insert">definitions:</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0029"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">Valid SYN:  A SYN that has</span> the <span class="delete">same port numbers and the same ISN as</span></td><td> </td><td class="rblock">   <span class="insert">'During</span> the <span class="insert">handshake':  The connection states prior</span> to</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">      the SYN that caused the Server</span> to <span class="delete">enter AccECN mode.  An</span></td><td> </td><td class="rblock">      <span class="insert">synchronization;</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">      'Acceptable' packet is defined in Section 1.3.</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0030"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">Switching feedback negotiation (e.g. fall-back):</span></td><td> </td><td class="rblock">   <span class="insert">'Valid SYN':  A SYN that has the same port numbers and the same ISN</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      as the SYN that first caused the Server to open the connection.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      An 'Acceptable' packet is defined in Section 1.3.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0031"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">*  A host in AccECN mode</span>:</td><td> </td><td class="rblock">   <span class="insert">Handling SYNs or SYN/ACKs of multiple types (e.g. fall-back)</span>:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0032"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      -  MUST NOT switch into a different feedback <span class="delete">mode;</span></td><td> </td><td class="rblock">   <span class="insert">*  Any implementation that supports AccECN:</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">      -  MUST NOT switch into a different feedback <span class="insert">mode to the one it</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         first entered according to Table 2, no matter whether it</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         subsequently receives valid SYNs or Acceptable SYN/ACKs of</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         different types.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      -  SHOULD ignore the TCP-ECN flags in SYNs or SYN/ACKs that are</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         received after the implementation reaches the Established</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         state, in line with the general TCP approach [RFC9293];</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         Reason: Reaching established state implies that at least one</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         SYN and one SYN/ACK have successfully been delivered.  And all</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         the rules for handshake fall-back are designed to work based on</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         those packets that successfully traverse the path, whatever</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         other handshake packets are lost or delayed.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  MUST NOT send a 'Classic' ECN-setup SYN [RFC3168] with</td><td> </td><td class="right">      -  MUST NOT send a 'Classic' ECN-setup SYN [RFC3168] with</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         (AE,CWR,ECE) = (0,1,1) and a SYN with (AE,CWR,ECE) = (1,1,1)</td><td> </td><td class="right">         (AE,CWR,ECE) = (0,1,1) and a SYN with (AE,CWR,ECE) = (1,1,1)</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         requesting AccECN feedback within the same connection;</td><td> </td><td class="right">         requesting AccECN feedback within the same connection;</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  MUST NOT send a 'Classic' ECN-setup SYN/ACK [RFC3168] with</td><td> </td><td class="right">      -  MUST NOT send a 'Classic' ECN-setup SYN/ACK [RFC3168] with</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         (AE,CWR,ECE) = (0,0,1) and a SYN/ACK agreeing to use AccECN</td><td> </td><td class="right">         (AE,CWR,ECE) = (0,0,1) and a SYN/ACK agreeing to use AccECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         feedback within the same connection;</td><td> </td><td class="right">         feedback within the same connection;</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  MUST reset the connection with a RST packet, if it receives a</td><td> </td><td class="right">      -  MUST reset the connection with a RST packet, if it receives a</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         'Classic' ECN-setup SYN with (AE,CWR,ECE) = (0,1,1) and a SYN</td><td> </td><td class="right">         'Classic' ECN-setup SYN with (AE,CWR,ECE) = (0,1,1) and a SYN</td><td class="lineno"><br></td></tr>
      <tr id="diff0033"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         requesting AccECN feedback during the same <span class="delete">connection</span>;</td><td> </td><td class="rblock">         requesting AccECN feedback during the same <span class="insert">handshake</span>;</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  MUST reset the connection with a RST packet, if it receives</td><td> </td><td class="right">      -  MUST reset the connection with a RST packet, if it receives</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         'Classic' ECN-setup SYN/ACK with (AE,CWR,ECE) = (0,0,1) and a</td><td> </td><td class="right">         'Classic' ECN-setup SYN/ACK with (AE,CWR,ECE) = (0,0,1) and a</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         SYN/ACK agreeing to use AccECN feedback during the same</td><td> </td><td class="right">         SYN/ACK agreeing to use AccECN feedback during the same</td><td class="lineno"><br></td></tr>
      <tr id="diff0034"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         <span class="delete">connection</span>;</td><td> </td><td class="rblock">         <span class="insert">handshake</span>;</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0035"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      The <span class="delete">above</span> rules are necessary because, if one peer were to</td><td> </td><td class="rblock">      The <span class="insert">last four</span> rules are necessary because, if one peer were to</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      negotiate the feedback mode in two different types of handshake,</td><td> </td><td class="right">      negotiate the feedback mode in two different types of handshake,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      it would not be possible for the other peer to know for certain</td><td> </td><td class="right">      it would not be possible for the other peer to know for certain</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      which handshake packet(s) the other end had eventually received or</td><td> </td><td class="right">      which handshake packet(s) the other end had eventually received or</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      in which order it received them.  So, in the absence of these</td><td> </td><td class="right">      in which order it received them.  So, in the absence of these</td><td class="lineno"><br></td></tr>
      <tr id="diff0036"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      rules, the two peers could end up using different feedback modes</td><td> </td><td class="rblock">      rules, the two peers could end up using different <span class="insert">ECN</span> feedback</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      without knowing it.</td><td> </td><td class="rblock">      modes without knowing it.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0037"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   *  A <span class="delete">TCP Server</span> in AccECN mode that is <span class="delete">sending an AccECN</span> SYN/ACK:</td><td> </td><td class="rblock">   *  A <span class="insert">host</span> in AccECN mode that is <span class="insert">feeding back the IP-ECN field on a</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      SYN or</span> SYN/ACK:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0038"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      -  MUST feed back the IP-ECN field <span class="delete">of</span> the latest valid SYN to</td><td> </td><td class="rblock">      -  MUST feed back the IP-ECN field <span class="insert">on</span> the latest valid SYN <span class="insert">or</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         <span class="delete">arrive (by using</span> the appropriate combination of TCP-ECN flags</td><td> </td><td class="rblock"><span class="insert">         acceptable SYN/ACK</span> to <span class="insert">arrive.</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         <span class="delete">from Table 2).</span></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  A TCP Server already in AccECN mode:</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      -  SHOULD acknowledge a valid SYN arriving with (AE,CWR,ECE) =</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         (0,0,0) by emitting an AccECN SYN/ACK (with</span> the appropriate</td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">         combination of TCP-ECN flags <span class="insert">to feed back the IP-ECN field of</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         this latest SYN);</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      -  MAY acknowledge a valid SYN arriving with (AE,CWR,ECE) =</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         (0,0,0) by sending a SYN/ACK with (AE,CWR,ECE) = (0,0,0);</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      Rationale: When a SYN arrives with (AE,CWR,ECE) = (0,0,0) at a TCP</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      Server that is already in AccECN mode, it implies that the TCP</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      Client had probably not received the previous AccECN SYN/ACK</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      emitted by the TCP Server.  Therefore, the first bullet recommends</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      attempting at least one more AccECN SYN/ACK.  Nonetheless, the</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      second bullet recognizes that the Server might eventually need to</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      fall back to a non-ECN SYN/ACK.  In either case, the TCP Server</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      remains in AccECN feedback mode (according to the earlier</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      requirement not to switch modes).</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  An AccECN-capable TCP Server already in Not ECN mode:</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      -  SHOULD respond to any subsequent valid SYN using a SYN/ACK with</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         (AE,CWR,ECE) = (0,0,0), even if the SYN is offering to</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         negotiate Classic ECN or AccECN feedback mode;</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         Rationale: There would be no point in the Server offering any</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         type of ECN feedback, because the Client will not be using ECN.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         However, there is no interoperability reason to make this rule</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         mandatory.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   If for any reason a host is not willing to provide ECN feedback on a</td><td> </td><td class="right">   If for any reason a host is not willing to provide ECN feedback on a</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   particular TCP connection, it SHOULD clear the AE, CWR and ECE flags</td><td> </td><td class="right">   particular TCP connection, it SHOULD clear the AE, CWR and ECE flags</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   in all SYN and/or SYN/ACK packets that it sends.</td><td> </td><td class="right">   in all SYN and/or SYN/ACK packets that it sends.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Sending ECT:</td><td> </td><td class="right">   Sending ECT:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0039"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   *  A Data Sender in AccECN mode:</td><td> </td><td class="rblock">   *  <span class="insert">Any implementation that supports AccECN:</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      -  MUST NOT set ECT if it is in Not ECN feedback mode.</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">      A Data Sender in AccECN mode:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  can set an ECT codepoint in the IP header of packets to</td><td> </td><td class="right">      -  can set an ECT codepoint in the IP header of packets to</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         indicate to the network that the transport is capable and</td><td> </td><td class="right">         indicate to the network that the transport is capable and</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         willing to participate in ECN for this packet;</td><td> </td><td class="right">         willing to participate in ECN for this packet;</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  does not have to set ECT on any packet (for instance if it has</td><td> </td><td class="right">      -  does not have to set ECT on any packet (for instance if it has</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         reason to believe such a packet would be blocked);</td><td> </td><td class="right">         reason to believe such a packet would be blocked);</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0040"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      -  <span class="delete">SHOULD</span> NOT set ECT on any packet if it has received at least</td><td> </td><td class="rblock">      <span class="insert">A TCP Server in AccECN mode:</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         one valid SYN or Acceptable SYN/ACK with (AE,CWR,ECE) =</td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         <span class="delete">(0,0,0).</span></td><td> </td><td class="rblock">      -  <span class="insert">MUST</span> NOT set ECT on any packet <span class="insert">for the rest of the connection,</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">         if it has received <span class="insert">or sent</span> at least one valid SYN or Acceptable</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">         SYN/ACK with (AE,CWR,ECE) = <span class="insert">(0,0,0) during the handshake.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         This rule solely applies to a Server because, when a Server</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         enters AccECN mode it doesn't know for sure whether the Client</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         will end up in AccECN mode.  But when a Client enters AccECN</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         mode, it can be certain that the Server is already in AccECN</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         feedback mode.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Congestion response:</td><td> </td><td class="right">   Congestion response:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0041"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   *  A <span class="delete">Data Sender</span> in AccECN mode:</td><td> </td><td class="rblock">   *  A <span class="insert">host</span> in AccECN mode:</td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  is obliged to respond appropriately to AccECN feedback that</td><td> </td><td class="right">      -  is obliged to respond appropriately to AccECN feedback that</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         indicates there were ECN marks on packets it had previously</td><td> </td><td class="right">         indicates there were ECN marks on packets it had previously</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         sent, where 'appropriately' is defined in Section 6.1 of</td><td> </td><td class="right">         sent, where 'appropriately' is defined in Section 6.1 of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         [RFC3168] and updated by Sections 2.1 and 4.1 of [RFC8311];</td><td> </td><td class="right">         [RFC3168] and updated by Sections 2.1 and 4.1 of [RFC8311];</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  is still obliged to respond appropriately to congestion</td><td> </td><td class="right">      -  is still obliged to respond appropriately to congestion</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         feedback, even when it is solely sending non-ECN-capable</td><td> </td><td class="right">         feedback, even when it is solely sending non-ECN-capable</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         packets (for rationale, some examples and some exceptions see</td><td> </td><td class="right">         packets (for rationale, some examples and some exceptions see</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         Section 3.2.2.3, Section 3.2.2.4).</td><td> </td><td class="right">         Section 3.2.2.3, Section 3.2.2.4).</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  is still obliged to respond appropriately to congestion</td><td> </td><td class="right">      -  is still obliged to respond appropriately to congestion</td><td class="lineno"><br></td></tr>
      <tr id="diff0042"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         feedback, even if it <span class="delete">sends</span> a SYN or SYN/ACK packet with</td><td> </td><td class="rblock">         feedback, even if it <span class="insert">has sent or received</span> a SYN or SYN/ACK</td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">         (AE,CWR,ECE) = (0,0,0) <span class="delete">in a later transmission within</span> the <span class="delete">same</span></td><td> </td><td class="rblock">         packet with (AE,CWR,ECE) = (0,0,0) <span class="insert">during</span> the <span class="insert">handshake;</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">         TCP connection;</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  MUST NOT set CWR to indicate that it has received and responded</td><td> </td><td class="right">      -  MUST NOT set CWR to indicate that it has received and responded</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         to indications of congestion.</td><td> </td><td class="right">         to indications of congestion.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         For the avoidance of doubt, this is unlike an RFC 3168 data</td><td> </td><td class="right">         For the avoidance of doubt, this is unlike an RFC 3168 data</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         sender and this does not preclude the Data Sender from setting</td><td> </td><td class="right">         sender and this does not preclude the Data Sender from setting</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         the bits of the ACE counter field, which includes an overloaded</td><td> </td><td class="right">         the bits of the ACE counter field, which includes an overloaded</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         use of the same bit.</td><td> </td><td class="right">         use of the same bit.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Receiving ECT:</td><td> </td><td class="right">   Receiving ECT:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0043"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   *  A <span class="delete">Data Receiver</span> in AccECN mode:</td><td> </td><td class="rblock">   *  A <span class="insert">host</span> in AccECN mode:</td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  MUST feed back the information in the IP-ECN field of incoming</td><td> </td><td class="right">      -  MUST feed back the information in the IP-ECN field of incoming</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         packets using Accurate ECN feedback, as specified in</td><td> </td><td class="right">         packets using Accurate ECN feedback, as specified in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         Section 3.2.</td><td> </td><td class="right">         Section 3.2.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0044"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">         <span class="insert">For the avoidance of doubt, this requirement stands even if the</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         AccECN host has also sent or received a SYN or SYN/ACK with</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         (AE,CWR,ECE) = (0,0,0).  Reason: Such a SYN or SYN/ACK implies</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         some form of packet mangling might be present.  Even if the</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         remote peer is not setting ECT, it could still be set</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         erroneously by packet mangling at the IP layer (see</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         Section 3.2.2.3).  In such cases, the Data Sender is best</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         placed to decide whether ECN markings are valid, but it can</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         only do that if the Data Receiver mechanistically feeds back</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         any ECN markings.  This approach will not lead to TCP Options</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         being generated unnecessarily if the recommended simple scheme</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         in Section 3.2.3.3 is used, because no byte counters will</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">         change if no packets are set to ECT.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      -  MUST NOT use reception of packets with ECT set in the IP-ECN</td><td> </td><td class="right">      -  MUST NOT use reception of packets with ECT set in the IP-ECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         field as an implicit signal that the peer is ECN-capable.</td><td> </td><td class="right">         field as an implicit signal that the peer is ECN-capable.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         Reason: ECT at the IP layer does not explicitly confirm the</td><td> </td><td class="right">         Reason: ECT at the IP layer does not explicitly confirm the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         peer has the correct ECN feedback logic, because the packets</td><td> </td><td class="right">         peer has the correct ECN feedback logic, because the packets</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         could have been mangled at the IP layer.</td><td> </td><td class="right">         could have been mangled at the IP layer.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">3.2.  AccECN Feedback</td><td> </td><td class="right">3.2.  AccECN Feedback</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Each Data Receiver of each half connection maintains four counters,</td><td> </td><td class="right">   Each Data Receiver of each half connection maintains four counters,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-9" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-9"><em> page 22, line 16<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-9"><em> page 25, line 48<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   does satisfy these conditions (see Section 5.2), so that it can feed</td><td> </td><td class="right">   does satisfy these conditions (see Section 5.2), so that it can feed</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   back which of the four values of the IP-ECN field arrived on the SYN/</td><td> </td><td class="right">   back which of the four values of the IP-ECN field arrived on the SYN/</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ACK.  A valid exception to this "SHOULD" would be where the</td><td> </td><td class="right">   ACK.  A valid exception to this "SHOULD" would be where the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   implementation will only be used in an environment where mangling of</td><td> </td><td class="right">   implementation will only be used in an environment where mangling of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the ECN field is unlikely.</td><td> </td><td class="right">   the ECN field is unlikely.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   The TCP Client MUST also use the handshake encoding for the pure ACK</td><td> </td><td class="right">   The TCP Client MUST also use the handshake encoding for the pure ACK</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   of any retransmitted SYN/ACK that confirms that the TCP Server</td><td> </td><td class="right">   of any retransmitted SYN/ACK that confirms that the TCP Server</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   supports AccECN.  The procedure for the TCP Server to follow if the</td><td> </td><td class="right">   supports AccECN.  The procedure for the TCP Server to follow if the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   final ACK of the handshake does not arrive before its retransmission</td><td> </td><td class="right">   final ACK of the handshake does not arrive before its retransmission</td><td class="lineno"><br></td></tr>
      <tr id="diff0045"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   timer expires is given in Section 3.<span class="delete">2.3.2</span>.2.</td><td> </td><td class="rblock">   timer expires is given in Section 3.<span class="insert">1.4</span>.2.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">        +==================+================+=====================+</td><td> </td><td class="right">        +==================+================+=====================+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">        | IP-ECN codepoint | ACE on pure    | r.cep of TCP Client |</td><td> </td><td class="right">        | IP-ECN codepoint | ACE on pure    | r.cep of TCP Client |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">        | on SYN/ACK       | ACK of SYN/ACK | in AccECN mode      |</td><td> </td><td class="right">        | on SYN/ACK       | ACK of SYN/ACK | in AccECN mode      |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">        +==================+================+=====================+</td><td> </td><td class="right">        +==================+================+=====================+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">        | Not-ECT          | 0b010          | 5                   |</td><td> </td><td class="right">        | Not-ECT          | 0b010          | 5                   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">        +------------------+----------------+---------------------+</td><td> </td><td class="right">        +------------------+----------------+---------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">        | ECT(1)           | 0b011          | 5                   |</td><td> </td><td class="right">        | ECT(1)           | 0b011          | 5                   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">        +------------------+----------------+---------------------+</td><td> </td><td class="right">        +------------------+----------------+---------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">        | ECT(0)           | 0b100          | 5                   |</td><td> </td><td class="right">        | ECT(0)           | 0b100          | 5                   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-10" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-10"><em> page 23, line 9<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-10"><em> page 27, line 9<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Given this encoding of the ACE field on the ACK of a SYN/ACK is</td><td> </td><td class="right">   Given this encoding of the ACE field on the ACK of a SYN/ACK is</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   exceptional, an AccECN Server using large receive offload (LRO) might</td><td> </td><td class="right">   exceptional, an AccECN Server using large receive offload (LRO) might</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   prefer to disable LRO until such an ACK has transitioned it out of</td><td> </td><td class="right">   prefer to disable LRO until such an ACK has transitioned it out of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   SYN-RCVD state.</td><td> </td><td class="right">   SYN-RCVD state.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +============+==========================+=====================+</td><td> </td><td class="right">      +============+==========================+=====================+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | ACE on ACK | IP-ECN codepoint on SYN/ | s.cep of TCP Server |</td><td> </td><td class="right">      | ACE on ACK | IP-ECN codepoint on SYN/ | s.cep of TCP Server |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | of SYN/ACK | ACK inferred by Server   | in AccECN mode      |</td><td> </td><td class="right">      | of SYN/ACK | ACK inferred by Server   | in AccECN mode      |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +============+==========================+=====================+</td><td> </td><td class="right">      +============+==========================+=====================+</td><td class="lineno"><br></td></tr>
      <tr id="diff0046"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      | 0b000      | {Notes 1, 3}             | Disable <span class="delete">ECN  </span>       |</td><td> </td><td class="rblock">      | 0b000      | {Notes 1, 3}             | Disable <span class="insert">s.cep</span>       |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +------------+--------------------------+---------------------+</td><td> </td><td class="right">      +------------+--------------------------+---------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | 0b001      | {Notes 2, 3}             | 5                   |</td><td> </td><td class="right">      | 0b001      | {Notes 2, 3}             | 5                   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +------------+--------------------------+---------------------+</td><td> </td><td class="right">      +------------+--------------------------+---------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | 0b010      | Not-ECT                  | 5                   |</td><td> </td><td class="right">      | 0b010      | Not-ECT                  | 5                   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +------------+--------------------------+---------------------+</td><td> </td><td class="right">      +------------+--------------------------+---------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | 0b011      | ECT(1)                   | 5                   |</td><td> </td><td class="right">      | 0b011      | ECT(1)                   | 5                   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +------------+--------------------------+---------------------+</td><td> </td><td class="right">      +------------+--------------------------+---------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | 0b100      | ECT(0)                   | 5                   |</td><td> </td><td class="right">      | 0b100      | ECT(0)                   | 5                   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +------------+--------------------------+---------------------+</td><td> </td><td class="right">      +------------+--------------------------+---------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | 0b101      | Currently Unused {Note   | 5                   |</td><td> </td><td class="right">      | 0b101      | Currently Unused {Note   | 5                   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      |            | 2}                       |                     |</td><td> </td><td class="right">      |            | 2}                       |                     |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +------------+--------------------------+---------------------+</td><td> </td><td class="right">      +------------+--------------------------+---------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | 0b110      | CE                       | 6                   |</td><td> </td><td class="right">      | 0b110      | CE                       | 6                   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +------------+--------------------------+---------------------+</td><td> </td><td class="right">      +------------+--------------------------+---------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | 0b111      | Currently Unused {Note   | 5                   |</td><td> </td><td class="right">      | 0b111      | Currently Unused {Note   | 5                   |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      |            | 2}                       |                     |</td><td> </td><td class="right">      |            | 2}                       |                     |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +------------+--------------------------+---------------------+</td><td> </td><td class="right">      +------------+--------------------------+---------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">        Table 4: Meaning of the ACE field on the ACK of the SYN/ACK</td><td> </td><td class="right">        Table 4: Meaning of the ACE field on the ACK of the SYN/ACK</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0047"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   {Note 1}: If the Server is in AccECN <span class="delete">mode, the</span> value of zero <span class="delete">in the</span></td><td> </td><td class="rblock">   {Note 1}: If the Server is in AccECN <span class="insert">mode and in SYN-RCVD state, and</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   ACK of the <span class="delete">SYN/ACK raises suspicion</span> of <span class="delete">zeroing</span> of the ACE field on</td><td> </td><td class="rblock"><span class="insert">   if it receives a</span> value of zero <span class="insert">on a pure</span> ACK <span class="insert">with SYN=0 and no SACK</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   the path (see Section 3.2.2.4).</td><td> </td><td class="rblock"><span class="insert">   blocks, for the rest</span> of the <span class="insert">connection the Server MUST NOT set ECT on</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   outgoing packets and MUST NOT respond to AccECN feedback.</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   Nonetheless, as a Data Receiver it MUST NOT disable AccECN feedback.</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   Any</span> of <span class="insert">the circumstances below could cause a value</span> of <span class="insert">zero but,</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   whatever the cause, the actions above would be the appropriate</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   response:</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  The TCP Client has somehow entered No ECN feedback mode (most</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      likely if the Server received a SYN or sent a SYN/ACK with</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      (AE,CWR,ECE) = (0,0,0) after entering AccECN mode, but possible</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      even if it didn't);</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  The TCP Client genuinely might be in AccECN mode, but its count of</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      received CE marks might have caused</span> the ACE field <span class="insert">to wrap to zero.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      This is highly unlikely, but not impossible because the Server</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      might have already sent multiple packets while still in SYN-RCVD</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      state, e.g. using TFO (see Section 5.2) and some might have been</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      CE-marked.  Then ACE on the first ACK seen by the Server might be</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      zero, due to previous ACKs experiencing an unfortunate pattern of</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      loss or delay.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   *  Some form of non-compliance at the TCP Client or</span> on the path (see</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">      Section 3.2.2.4).</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   {Note 2}: If the Server is in AccECN mode, these values are Currently</td><td> </td><td class="right">   {Note 2}: If the Server is in AccECN mode, these values are Currently</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Unused but the AccECN Server's behaviour is still defined for forward</td><td> </td><td class="right">   Unused but the AccECN Server's behaviour is still defined for forward</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   compatibility.  Then the designer of a future protocol can know for</td><td> </td><td class="right">   compatibility.  Then the designer of a future protocol can know for</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   certain what AccECN Servers will do with these codepoints.</td><td> </td><td class="right">   certain what AccECN Servers will do with these codepoints.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   {Note 3}: In the case where a Server that implements AccECN is also</td><td> </td><td class="right">   {Note 3}: In the case where a Server that implements AccECN is also</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   using a stateless handshake (termed a SYN cookie) it will not</td><td> </td><td class="right">   using a stateless handshake (termed a SYN cookie) it will not</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   remember whether it entered AccECN mode.  The values 0b000 or 0b001</td><td> </td><td class="right">   remember whether it entered AccECN mode.  The values 0b000 or 0b001</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   will remind it that it did not enter AccECN mode, because AccECN does</td><td> </td><td class="right">   will remind it that it did not enter AccECN mode, because AccECN does</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-11" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-11"><em> page 24, line 39<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-11"><em> page 29, line 11<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   The encode/decode procedures during the three-way handshake are</td><td> </td><td class="right">   The encode/decode procedures during the three-way handshake are</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   exceptions to the general rules given so far, so they are spelled out</td><td> </td><td class="right">   exceptions to the general rules given so far, so they are spelled out</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   step by step below for clarity:</td><td> </td><td class="right">   step by step below for clarity:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   *  If a TCP Server in AccECN mode receives a CE mark in the IP-ECN</td><td> </td><td class="right">   *  If a TCP Server in AccECN mode receives a CE mark in the IP-ECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      field of a SYN (SYN=1, ACK=0), it MUST NOT increment r.cep (it</td><td> </td><td class="right">      field of a SYN (SYN=1, ACK=0), it MUST NOT increment r.cep (it</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      remains at its initial value of 5).</td><td> </td><td class="right">      remains at its initial value of 5).</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      Reason: It would be redundant for the Server to include CE-marked</td><td> </td><td class="right">      Reason: It would be redundant for the Server to include CE-marked</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      SYNs in its r.cep counter, because it already reliably delivers</td><td> </td><td class="right">      SYNs in its r.cep counter, because it already reliably delivers</td><td class="lineno"><br></td></tr>
      <tr id="diff0048"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      feedback of any CE marking using the encoding in Table 2 in the</td><td> </td><td class="rblock">      feedback of any CE marking using the encoding in <span class="insert">the top block of</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      SYN/ACK.  This also ensures that, when the Server starts using the</td><td> </td><td class="rblock">      Table 2 in the SYN/ACK.  This also ensures that, when the Server</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      ACE field, it has not unnecessarily consumed more than one initial</td><td> </td><td class="rblock">      starts using the ACE field, it has not unnecessarily consumed more</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      value, given they can be used to negotiate variants of the AccECN</td><td> </td><td class="rblock">      than one initial value, given they can be used to negotiate</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      protocol (see Appendix B.3).</td><td> </td><td class="rblock">      variants of the AccECN protocol (see Appendix B.3).</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   *  If a TCP Client in AccECN mode receives CE feedback in the TCP</td><td> </td><td class="right">   *  If a TCP Client in AccECN mode receives CE feedback in the TCP</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      flags of a SYN/ACK, it MUST NOT increment s.cep (it remains at its</td><td> </td><td class="right">      flags of a SYN/ACK, it MUST NOT increment s.cep (it remains at its</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      initial value of 5), so that it stays in step with r.cep on the</td><td> </td><td class="right">      initial value of 5), so that it stays in step with r.cep on the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      Server.  Nonetheless, the TCP Client still triggers the congestion</td><td> </td><td class="right">      Server.  Nonetheless, the TCP Client still triggers the congestion</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      control actions necessary to respond to the CE feedback.</td><td> </td><td class="right">      control actions necessary to respond to the CE feedback.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   *  If a TCP Client in AccECN mode receives a CE mark in the IP-ECN</td><td> </td><td class="right">   *  If a TCP Client in AccECN mode receives a CE mark in the IP-ECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      field of a SYN/ACK, it MUST increment r.cep, but no more than once</td><td> </td><td class="right">      field of a SYN/ACK, it MUST increment r.cep, but no more than once</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      no matter how many CE-marked SYN/ACKs it receives</td><td> </td><td class="right">      no matter how many CE-marked SYN/ACKs it receives</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-12" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-12"><em> page 27, line 44<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-12"><em> page 32, line 19<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   This scenario could well happen where an ECN-enabled home router</td><td> </td><td class="right">   This scenario could well happen where an ECN-enabled home router</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   congests its upstream mobile broadband bottleneck link, then the</td><td> </td><td class="right">   congests its upstream mobile broadband bottleneck link, then the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ingress to the mobile network clears the ECN field [Mandalari18].</td><td> </td><td class="right">   ingress to the mobile network clears the ECN field [Mandalari18].</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">3.2.2.4.  Testing for Zeroing of the ACE Field</td><td> </td><td class="right">3.2.2.4.  Testing for Zeroing of the ACE Field</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Section 3.2.2 required the Data Receiver to initialize the r.cep</td><td> </td><td class="right">   Section 3.2.2 required the Data Receiver to initialize the r.cep</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   counter to a non-zero value.  Therefore, in either direction the</td><td> </td><td class="right">   counter to a non-zero value.  Therefore, in either direction the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   initial value of the ACE counter ought to be non-zero.</td><td> </td><td class="right">   initial value of the ACE counter ought to be non-zero.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0049"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   If AccECN has been successfully negotiated, the Data Sender <span class="delete">SHOULD</span></td><td> </td><td class="rblock">   <span class="insert">This section does not concern the case where the ACE field is zero</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   check the value of the ACE counter in the first packet (with or</td><td> </td><td class="rblock"><span class="insert">   when the handshake encoding has been used on the ACK of the SYN/ACK</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   without data) that arrives <span class="delete">with SYN=0.</span>  If the value of this ACE</td><td> </td><td class="rblock"><span class="insert">   under the carefully worded conditions in Section 3.2.2.1.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   field is zero (0b000), for the remainder of the half-connection the</td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Data Sender ought to send non-ECN-capable packets and it is advised</td><td> </td><td class="rblock">   If AccECN has been successfully negotiated, the Data Sender <span class="insert">MAY</span> check</td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   not to respond to any feedback of CE markings.  Reason: the symptoms</td><td> </td><td class="rblock">   the value of the ACE counter in the first <span class="insert">feedback</span> packet (with or</td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   imply <span class="delete">either</span> potential mangling of the ECN fields in <span class="delete">both</span> the <span class="delete">IP and</span></td><td> </td><td class="rblock">   without data) that arrives <span class="insert">after the 3-way handshake.</span>  If the value</td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   TCP headers, or a broken remote</span> TCP <span class="delete">implementation.</span>  This advice is</td><td> </td><td class="rblock">   of this ACE field is <span class="insert">found to be</span> zero (0b000), for the remainder of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   not stated normatively (in capitals), because the best strategy might</td><td> </td><td class="rblock">   the half-connection the Data Sender ought to send non-ECN-capable</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   depend on experience of the most likely <span class="delete">types of mangling,</span> which can</td><td> </td><td class="rblock">   packets and it is advised not to respond to any feedback of CE</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   only be known at the time of deployment.</td><td> </td><td class="rblock">   markings.  Reason: the symptoms imply <span class="insert">any or all of the following: i)</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   the remote peer has somehow entered Not ECN feedback mode; ii) a</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   broken remote TCP implementation; iii)</span> potential mangling of the ECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   fields in the TCP <span class="insert">headers (although unlikely given they clearly</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   survived during the handshake).</span>  This advice is not stated</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   normatively (in capitals), because the best strategy might depend on</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   experience of the most likely <span class="insert">scenarios,</span> which can only be known at</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   the time of deployment.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   <span class="insert">Note that a host in AccECN mode MUST continue to provide accurate ECN</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   feedback to its peer, even if it is no longer sending ECT itself over</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   the other half connection.</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   If reordering occurs, "the first packet ... that arrives" will not</td><td> </td><td class="right">   If reordering occurs, "the first packet ... that arrives" will not</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   necessarily be the same as the first packet in sequence order.  The</td><td> </td><td class="right">   necessarily be the same as the first packet in sequence order.  The</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   test has been specified loosely like this to simplify implementation,</td><td> </td><td class="right">   test has been specified loosely like this to simplify implementation,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   and because it would not have been any more precise to have specified</td><td> </td><td class="right">   and because it would not have been any more precise to have specified</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the first packet in sequence order, which would not necessarily be</td><td> </td><td class="right">   the first packet in sequence order, which would not necessarily be</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the first ACE counter that the Data Receiver fed back anyway, given</td><td> </td><td class="right">   the first ACE counter that the Data Receiver fed back anyway, given</td><td class="lineno"><br></td></tr>
      <tr id="diff0050"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   it might have been a retransmission.  <span class="delete">Usually, the Server checks the</span></td><td> </td><td class="rblock">   it might have been a retransmission.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   ACK of the SYN/ACK from the Client, while the Client checks the first</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   data segment from the Server.</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   The possibility of re-ordering means that there is a small chance</td><td> </td><td class="right">   The possibility of re-ordering means that there is a small chance</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   that the ACE field on the first packet to arrive is genuinely zero</td><td> </td><td class="right">   that the ACE field on the first packet to arrive is genuinely zero</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   (without middlebox interference).  This would cause a host to</td><td> </td><td class="right">   (without middlebox interference).  This would cause a host to</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   unnecessarily disable ECN for a half connection.  Therefore, in</td><td> </td><td class="right">   unnecessarily disable ECN for a half connection.  Therefore, in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   environments where there is no evidence of the ACE field being</td><td> </td><td class="right">   environments where there is no evidence of the ACE field being</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   zeroed, implementations can skip this test.</td><td> </td><td class="right">   zeroed, implementations can skip this test.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Note that the Data Sender MUST NOT test whether the arriving counter</td><td> </td><td class="right">   Note that the Data Sender MUST NOT test whether the arriving counter</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   in the initial ACE field has been initialized to a specific valid</td><td> </td><td class="right">   in the initial ACE field has been initialized to a specific valid</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-13" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-13"><em> page 30, line 5<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-13"><em> page 34, line 25<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ACKs but it feeds back the timing and the order in which ECN marks</td><td> </td><td class="right">   ACKs but it feeds back the timing and the order in which ECN marks</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   are received with minimal additional complexity.  If CE marks are</td><td> </td><td class="right">   are received with minimal additional complexity.  If CE marks are</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   infrequent, as is the case for most AQMs at the time of writing, or</td><td> </td><td class="right">   infrequent, as is the case for most AQMs at the time of writing, or</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   there are multiple marks in a row, the additional load will be low.</td><td> </td><td class="right">   there are multiple marks in a row, the additional load will be low.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   However, marking patterns with numerous non-contiguous CE marks could</td><td> </td><td class="right">   However, marking patterns with numerous non-contiguous CE marks could</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   increase the load significantly.  One possible compromise would be</td><td> </td><td class="right">   increase the load significantly.  One possible compromise would be</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   for the receiver to heuristically detect whether the sender is in</td><td> </td><td class="right">   for the receiver to heuristically detect whether the sender is in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   slow-start, then to implement change-triggered ACKs while the sender</td><td> </td><td class="right">   slow-start, then to implement change-triggered ACKs while the sender</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   is in slow-start, and offload otherwise.</td><td> </td><td class="right">   is in slow-start, and offload otherwise.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0051"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   In a <span class="delete">unidirectional data</span> scenario <span class="delete">from host A to B</span> where both <span class="delete">hosts</span></td><td> </td><td class="rblock">   In a scenario where both <span class="insert">endpoints</span> support AccECN, if the Data</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   support AccECN, if the Data Receiver (B) has chosen to use <span class="delete">ECN-</span></td><td> </td><td class="rblock">   Receiver (B) has chosen to use <span class="insert">ECN-capable</span> pure ACKs <span class="insert">(as allowed in</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   capable</span> pure ACKs <span class="delete">[I-D.ietf-tcpm-generalized-ecn]</span> and enough of these</td><td> </td><td class="rblock"><span class="insert">   [RFC8311] experiments)</span> and enough of these ACKs become CE-marked,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   ACKs become CE-marked, then the 'Increment-Triggered ACKs' rule</td><td> </td><td class="rblock">   then the 'Increment-Triggered ACKs' rule ensures that the Data Sender</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   ensures that the Data Sender (A) gives B sufficient feedback about</td><td> </td><td class="rblock">   (A) gives B sufficient feedback about this <span class="insert">congestion on the ACKs</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   this <span class="delete">congestion.</span>  Normally, the Data Sender (A) can piggyback that</td><td> </td><td class="rblock"><span class="insert">   from B to A.</span>  Normally, <span class="insert">for instance in a unidirectional data</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   scenario from host A to B,</span> the Data Sender (A) can piggyback that</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   feedback on its data.  But if A stops sending data, the second part</td><td> </td><td class="right">   feedback on its data.  But if A stops sending data, the second part</td><td class="lineno"><br></td></tr>
      <tr id="diff0052"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   of the 'Increment-Triggered ACKs' rule <span class="delete">ensures that</span> A <span class="delete">emits</span> a pure</td><td> </td><td class="rblock">   of the 'Increment-Triggered ACKs' rule <span class="insert">requires</span> A <span class="insert">to emit</span> a pure ACK</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   ACK for at least every third CE-marked incoming ACK over the</td><td> </td><td class="rblock">   for at least every third CE-marked incoming ACK over the subsequent</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   subsequent round trip.</td><td> </td><td class="rblock">   round trip.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0053"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Although TCP normally only ACKs newly delivered data, in this case it</td><td> </td><td class="rblock">   Although TCP normally only ACKs newly delivered data, in this case</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">is</span> mandatory for A to emit ACKs of <span class="delete">ACKs</span> because they feed back new</td><td> </td><td class="rblock">   <span class="insert">the increment-triggered ACK rule makes</span> it mandatory for A to emit</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   congestion state (useful in case B starts sending).  The minimum of 3</td><td> </td><td class="rblock">   ACKs of <span class="insert">ACKs.  This is justifiable</span> because <span class="insert">the ACKs in this case are</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   for 'n' in this case ensures that, even if A also uses ECN-capable</td><td> </td><td class="rblock"><span class="insert">   ECN-capable and so, even though the ACKs of these ACKs do not</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   pure ACKs, and even if there is pathological congestion in both</td><td> </td><td class="rblock"><span class="insert">   acknowledge new data,</span> they feed back new congestion state (useful in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   directions, any resulting ping-pong of ACKs will be rapidly damped.</td><td> </td><td class="rblock">   case B starts sending).  The minimum of 3 for 'n' in this case</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   ensures that, even if A also uses ECN-capable pure ACKs, and even if</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   there is pathological congestion in both directions, any resulting</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   ping-pong of ACKs will be rapidly damped.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Certain measures are necessary to prevent incoming ACKs of ACKs being</td><td> </td><td class="right">   Certain measures are necessary to prevent incoming ACKs of ACKs being</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   mistaken for duplicate ACKs in some circumstances.  However, ACKs of</td><td> </td><td class="right">   mistaken for duplicate ACKs in some circumstances.  However, ACKs of</td><td class="lineno"><br></td></tr>
      <tr id="diff0054"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   ACKs can only arise if the original ACKs are ECN-capable.  <span class="delete">Therefore</span></td><td> </td><td class="rblock">   ACKs can only arise if the original ACKs are ECN-capable.  <span class="insert">Therefore,</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   the necessary</span> measures <span class="delete">are specified in [I-D.ietf-tcpm-generalized-</span></td><td> </td><td class="rblock"><span class="insert">   it is not appropriate to define those</span> measures <span class="insert">here.  Instead any</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   ecn] as a prerequisite for sending</span> ECN-capable ACKs <span class="delete">in the first</span></td><td> </td><td class="rblock"><span class="insert">   spec that allows</span> ECN-capable <span class="insert">pure</span> ACKs <span class="insert">MUST make sending them</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   place.</span></td><td> </td><td class="rblock"><span class="insert">   conditional on measures to distinguish ACKs of ACKs from DupACKs (see</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   for example [I-D.ietf-tcpm-generalized-ecn]).</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">3.2.2.5.2.  Data Sender Safety Procedures</td><td> </td><td class="right">3.2.2.5.2.  Data Sender Safety Procedures</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   If the Data Sender has not received AccECN TCP Options to give it</td><td> </td><td class="right">   If the Data Sender has not received AccECN TCP Options to give it</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   more dependable information, and it detects that the ACE field could</td><td> </td><td class="right">   more dependable information, and it detects that the ACE field could</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   have cycled, it SHOULD deem whether it cycled by taking the safest</td><td> </td><td class="right">   have cycled, it SHOULD deem whether it cycled by taking the safest</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   likely case under the prevailing conditions.  It can detect if the</td><td> </td><td class="right">   likely case under the prevailing conditions.  It can detect if the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   counter could have cycled by using the jump in the acknowledgement</td><td> </td><td class="right">   counter could have cycled by using the jump in the acknowledgement</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   number since the last ACK to calculate or estimate how many segments</td><td> </td><td class="right">   number since the last ACK to calculate or estimate how many segments</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   could have been acknowledged.  An example algorithm to implement this</td><td> </td><td class="right">   could have been acknowledged.  An example algorithm to implement this</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-14" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-14"><em> page 31, line 31<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-14"><em> page 36, line 18<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   |  Kind = 172   |  Length = 11  |          EE0B field           |</td><td> </td><td class="right">   |  Kind = 172   |  Length = 11  |          EE0B field           |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   | EE0B (cont'd) |           ECEB field                          |</td><td> </td><td class="right">   | EE0B (cont'd) |           ECEB field                          |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   |                  EE1B field                   |             Order 0</td><td> </td><td class="right">   |                  EE1B field                   |             Order 0</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">    0                   1                   2                   3</td><td> </td><td class="right">    0                   1                   2                   3</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td> </td><td class="right">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno"><br></td></tr>
      <tr id="diff0055"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   |  Kind = 17<span class="delete">3</span>   |  Length = 11  |          EE1B field           |</td><td> </td><td class="rblock">   |  Kind = 17<span class="insert">4</span>   |  Length = 11  |          EE1B field           |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   | EE1B (cont'd) |           ECEB field                          |</td><td> </td><td class="right">   | EE1B (cont'd) |           ECEB field                          |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   |                  EE0B field                   |             Order 1</td><td> </td><td class="right">   |                  EE0B field                   |             Order 1</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Figure 4: The Two Alternative AccECN TCP Options</td><td> </td><td class="right">              Figure 4: The Two Alternative AccECN TCP Options</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Figure 4 shows two option field orders; order 0 and order 1.  They</td><td> </td><td class="right">   Figure 4 shows two option field orders; order 0 and order 1.  They</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   both consists of three 24-bit fields.  Order 0 provides the 24 least</td><td> </td><td class="right">   both consists of three 24-bit fields.  Order 0 provides the 24 least</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   significant bits of the r.e0b, r.ceb and r.e1b counters,</td><td> </td><td class="right">   significant bits of the r.e0b, r.ceb and r.e1b counters,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   respectively.  Order 1 provides the same fields, but in the opposite</td><td> </td><td class="right">   respectively.  Order 1 provides the same fields, but in the opposite</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   order.  On each packet, the Data Receiver can use whichever order is</td><td> </td><td class="right">   order.  On each packet, the Data Receiver can use whichever order is</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   more efficient.  In either case, the bytes within the fields are in</td><td> </td><td class="right">   more efficient.  In either case, the bytes within the fields are in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   network byte order (big-endian).</td><td> </td><td class="right">   network byte order (big-endian).</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   When a Data Receiver sends an AccECN Option, it MUST set the Kind</td><td> </td><td class="right">   When a Data Receiver sends an AccECN Option, it MUST set the Kind</td><td class="lineno"><br></td></tr>
      <tr id="diff0056"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   field to 172 if using Order 0, or to 17<span class="delete">3</span> if using Order 1.  These two</td><td> </td><td class="rblock">   field to 172 if using Order 0, or to 17<span class="insert">4</span> if using Order 1.  These two</td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   new TCP Option Kinds are registered in Section 7 and called</td><td> </td><td class="right">   new TCP Option Kinds are registered in Section 7 and called</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   respectively AccECN0 and AccECN1.</td><td> </td><td class="right">   respectively AccECN0 and AccECN1.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Note that there is no field to feed back Not-ECT bytes.  Nonetheless</td><td> </td><td class="right">   Note that there is no field to feed back Not-ECT bytes.  Nonetheless</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   an algorithm for the Data Sender to calculate the number of payload</td><td> </td><td class="right">   an algorithm for the Data Sender to calculate the number of payload</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   bytes received as Not-ECT is given in Appendix A.4.</td><td> </td><td class="right">   bytes received as Not-ECT is given in Appendix A.4.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Whenever a Data Receiver sends an AccECN Option, the rules in</td><td> </td><td class="right">   Whenever a Data Receiver sends an AccECN Option, the rules in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Section 3.2.3.3 allow it to omit unchanged fields from the tail of</td><td> </td><td class="right">   Section 3.2.3.3 allow it to omit unchanged fields from the tail of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the option, to help cope with option space limitations, as long as it</td><td> </td><td class="right">   the option, to help cope with option space limitations, as long as it</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   preserves the order of the remaining fields and includes any field</td><td> </td><td class="right">   preserves the order of the remaining fields and includes any field</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   that has changed.  The length field MUST indicate which fields are</td><td> </td><td class="right">   that has changed.  The length field MUST indicate which fields are</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   present as follows:</td><td> </td><td class="right">   present as follows:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">             +========+==================+==================+</td><td> </td><td class="right">             +========+==================+==================+</td><td class="lineno"><br></td></tr>
      <tr id="diff0057"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">             | Length | <span class="delete">Type 0           | Type 1 </span>          |</td><td> </td><td class="rblock">             | Length | <span class="insert">Order 0          | Order 1</span>          |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">             +========+==================+==================+</td><td> </td><td class="right">             +========+==================+==================+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">             | 11     | EE0B, ECEB, EE1B | EE1B, ECEB, EE0B |</td><td> </td><td class="right">             | 11     | EE0B, ECEB, EE1B | EE1B, ECEB, EE0B |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">             +--------+------------------+------------------+</td><td> </td><td class="right">             +--------+------------------+------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">             | 8      | EE0B, ECEB       | EE1B, ECEB       |</td><td> </td><td class="right">             | 8      | EE0B, ECEB       | EE1B, ECEB       |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">             +--------+------------------+------------------+</td><td> </td><td class="right">             +--------+------------------+------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">             | 5      | EE0B             | EE1B             |</td><td> </td><td class="right">             | 5      | EE0B             | EE1B             |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">             +--------+------------------+------------------+</td><td> </td><td class="right">             +--------+------------------+------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">             | 2      | (empty)          | (empty)          |</td><td> </td><td class="right">             | 2      | (empty)          | (empty)          |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">             +--------+------------------+------------------+</td><td> </td><td class="right">             +--------+------------------+------------------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">                  Table 5: Fields included in AccECN TCP</td><td> </td><td class="right">                  Table 5: Fields included in AccECN TCP</td><td class="lineno"><br></td></tr>
      <tr id="diff0058"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">                     Options of each length and <span class="delete">type</span></td><td> </td><td class="rblock">                     Options of each length and <span class="insert">order</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   The empty option of Length=2 is provided to allow for a case where an</td><td> </td><td class="right">   The empty option of Length=2 is provided to allow for a case where an</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   AccECN Option has to be sent (e.g. on the SYN/ACK to test the path),</td><td> </td><td class="right">   AccECN Option has to be sent (e.g. on the SYN/ACK to test the path),</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   but there is very limited space for the option.</td><td> </td><td class="right">   but there is very limited space for the option.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   All implementations of a Data Sender that read any AccECN Option MUST</td><td> </td><td class="right">   All implementations of a Data Sender that read any AccECN Option MUST</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   be able to read AccECN Options of any of the above lengths.  For</td><td> </td><td class="right">   be able to read AccECN Options of any of the above lengths.  For</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   forward compatibility, if the AccECN Option is of any other length,</td><td> </td><td class="right">   forward compatibility, if the AccECN Option is of any other length,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   implementations MUST use those whole 3-octet fields that fit within</td><td> </td><td class="right">   implementations MUST use those whole 3-octet fields that fit within</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the length and ignore the remainder of the option, treating it as</td><td> </td><td class="right">   the length and ignore the remainder of the option, treating it as</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-15" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-15"><em> page 34, line 26<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-15"><em> page 39, line 16<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   to insufficient option space or if it has cached knowledge that the</td><td> </td><td class="right">   to insufficient option space or if it has cached knowledge that the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   packet would be likely to be blocked on the path to the other host if</td><td> </td><td class="right">   packet would be likely to be blocked on the path to the other host if</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   it included an AccECN Option.</td><td> </td><td class="right">   it included an AccECN Option.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">3.2.3.2.2.  Testing for Loss of Packets Carrying the AccECN Option</td><td> </td><td class="right">3.2.3.2.2.  Testing for Loss of Packets Carrying the AccECN Option</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   If the TCP Server has not received an ACK to acknowledge its SYN/ACK</td><td> </td><td class="right">   If the TCP Server has not received an ACK to acknowledge its SYN/ACK</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   after the normal TCP timeout or it receives a second SYN with a</td><td> </td><td class="right">   after the normal TCP timeout or it receives a second SYN with a</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   request for AccECN support, then either the SYN/ACK might just have</td><td> </td><td class="right">   request for AccECN support, then either the SYN/ACK might just have</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   been lost, e.g. due to congestion, or a middlebox might be blocking</td><td> </td><td class="right">   been lost, e.g. due to congestion, or a middlebox might be blocking</td><td class="lineno"><br></td></tr>
      <tr id="diff0059"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   AccECN Options.  To expedite connection <span class="delete">setup,</span> the TCP Server SHOULD</td><td> </td><td class="rblock">   AccECN Options.  To expedite connection <span class="insert">setup in deployment scenarios</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   retransmit the <span class="delete">SYN/ACK repeating the same AE, CWR and ECE TCP flags</span></td><td> </td><td class="rblock"><span class="insert">   where AccECN path traversal might be problematic,</span> the TCP Server</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   as on the original SYN/ACK</span> but with no AccECN Option.  If this</td><td> </td><td class="rblock">   SHOULD retransmit the <span class="insert">SYN/ACK,</span> but with no AccECN Option.  If this</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   retransmission times out, to expedite connection setup, the TCP</td><td> </td><td class="right">   retransmission times out, to expedite connection setup, the TCP</td><td class="lineno"><br></td></tr>
      <tr id="diff0060"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Server SHOULD <span class="delete">disable AccECN and ECN for this connection by</span></td><td> </td><td class="rblock">   Server SHOULD <span class="insert">retransmit</span> the SYN/ACK with (AE,CWR,ECE) = (0,0,0) and</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   retransmitting</span> the SYN/ACK with (AE,CWR,ECE) = (0,0,0) and no AccECN</td><td> </td><td class="rblock">   no AccECN <span class="insert">Option, but it remains in AccECN feedback mode (per</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">Option.</span></td><td> </td><td class="rblock"><span class="insert">   Section 3.1.5).</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      |  Note that a retransmitted AccECN SYN/ACK will not necessarily</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      |  have the same TCP-ECN flags as the original SYN/ACK, because it</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      |  feeds back the IP-ECN field of the latest SYN to have arrived</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">      |  (by the rule in Section 3.1.5).</span></td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   The above fall-back approach limits any interference by middleboxes</td><td> </td><td class="right">   The above fall-back approach limits any interference by middleboxes</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   that might drop packets with unknown options, even though it is more</td><td> </td><td class="right">   that might drop packets with unknown options, even though it is more</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   likely that SYN/ACK loss is due to congestion.  The TCP Server MAY</td><td> </td><td class="right">   likely that SYN/ACK loss is due to congestion.  The TCP Server MAY</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   try to send another packet with an AccECN Option at a later point</td><td> </td><td class="right">   try to send another packet with an AccECN Option at a later point</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   during the connection but it ought to monitor if that packet got lost</td><td> </td><td class="right">   during the connection but it ought to monitor if that packet got lost</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   as well, in which case it SHOULD disable the sending of AccECN</td><td> </td><td class="right">   as well, in which case it SHOULD disable the sending of AccECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Options for this half-connection.</td><td> </td><td class="right">   Options for this half-connection.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Implementers MAY use other fall-back strategies if they are found to</td><td> </td><td class="right">   Implementers MAY use other fall-back strategies if they are found to</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   be more effective (e.g. retrying an AccECN Option for a second time</td><td> </td><td class="right">   be more effective (e.g. retrying an AccECN Option for a second time</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   before fall-back - most appropriate during high levels of</td><td> </td><td class="right">   before fall-back - most appropriate during high levels of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   congestion).  However, other fall-back strategies will need to follow</td><td> </td><td class="right">   congestion).  However, other fall-back strategies will need to follow</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   all the rules in Section 3.1.5, which concern behaviour when SYNs or</td><td> </td><td class="right">   all the rules in Section 3.1.5, which concern behaviour when SYNs or</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   SYN/ACKs negotiating different types of feedback have been sent</td><td> </td><td class="right">   SYN/ACKs negotiating different types of feedback have been sent</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   within the same connection.</td><td> </td><td class="right">   within the same connection.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0061"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   <span class="insert">Further it might make sense to also remove any other new or</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   experimental fields or options on the SYN/ACK, although the required</span></td><td class="lineno"><br></td></tr><tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   behaviour will depend on the specification of the other option(s) and</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   on any attempt to co-ordinate fall-back between different modules of</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   the stack.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   If the TCP Client detects that the first data segment it sent with an</td><td> </td><td class="right">   If the TCP Client detects that the first data segment it sent with an</td><td class="lineno"><br></td></tr>
      <tr id="diff0062"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   AccECN Option was lost, it SHOULD fall back to no AccECN Option on</td><td> </td><td class="rblock">   AccECN Option was lost, <span class="insert">in deployment scenarios where AccECN path</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   the retransmission.  Again, implementers MAY use other fall-back</td><td> </td><td class="rblock"><span class="insert">   traversal might be problematic,</span> it SHOULD fall back to no AccECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   strategies such as attempting to retransmit a second segment with an</td><td> </td><td class="rblock">   Option on the retransmission.  Again, implementers MAY use other</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   AccECN Option before fall-back, and/or caching whether AccECN Options</td><td> </td><td class="rblock">   fall-back strategies such as attempting to retransmit a second</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   are blocked for subsequent connections.  [RFC9040] further discusses</td><td> </td><td class="rblock">   segment with an AccECN Option before fall-back, and/or caching</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   caching of TCP parameters and status information.</td><td> </td><td class="rblock">   whether AccECN Options are blocked for subsequent connections.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   [RFC9040] further discusses caching of TCP parameters and status</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   information.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   If a middlebox is dropping packets with options it does not</td><td> </td><td class="right">   If a middlebox is dropping packets with options it does not</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   recognize, a host that is sending little or no data but mostly pure</td><td> </td><td class="right">   recognize, a host that is sending little or no data but mostly pure</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ACKs will not inherently detect such losses.  Such a host MAY detect</td><td> </td><td class="right">   ACKs will not inherently detect such losses.  Such a host MAY detect</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   loss of ACKs carrying the AccECN Option by detecting whether the</td><td> </td><td class="right">   loss of ACKs carrying the AccECN Option by detecting whether the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   acknowledged data always reappears as a retransmission.  In such</td><td> </td><td class="right">   acknowledged data always reappears as a retransmission.  In such</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   cases, the host SHOULD disable the sending of the AccECN Option for</td><td> </td><td class="right">   cases, the host SHOULD disable the sending of the AccECN Option for</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   this half-connection.</td><td> </td><td class="right">   this half-connection.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   If a host falls back to not sending AccECN Options, it will continue</td><td> </td><td class="right">   If a host falls back to not sending AccECN Options, it will continue</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-16" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-16"><em> page 41, line 25<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-16"><em> page 46, line 25<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   The problem divides into two parts: determining if an ACK is part of</td><td> </td><td class="right">   The problem divides into two parts: determining if an ACK is part of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   a connection that is using AccECN and then preserving the correct</td><td> </td><td class="right">   a connection that is using AccECN and then preserving the correct</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   operation of AccECN feedback:</td><td> </td><td class="right">   operation of AccECN feedback:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   *  To determine whether a pure TCP ACK is part of an AccECN</td><td> </td><td class="right">   *  To determine whether a pure TCP ACK is part of an AccECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      connection without resorting to connection tracking and per-flow</td><td> </td><td class="right">      connection without resorting to connection tracking and per-flow</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      state, a useful heuristic would be to check for a non-zero ECN</td><td> </td><td class="right">      state, a useful heuristic would be to check for a non-zero ECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      field at the IP layer (because the ECN++ experiment only allows</td><td> </td><td class="right">      field at the IP layer (because the ECN++ experiment only allows</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      TCP pure ACKs to be ECN-capable if AccECN has been negotiated</td><td> </td><td class="right">      TCP pure ACKs to be ECN-capable if AccECN has been negotiated</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      [I-D.ietf-tcpm-generalized-ecn]).  This heuristic is simple and</td><td> </td><td class="right">      [I-D.ietf-tcpm-generalized-ecn]).  This heuristic is simple and</td><td class="lineno"><br></td></tr>
      <tr id="diff0063"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      stateless.  However, it might omit some AccECN ACKs, because it <span class="delete">is</span></td><td> </td><td class="rblock">      stateless.  However, it might omit some AccECN ACKs, because</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">      only recommended but</span> not <span class="delete">obligatory</span> to <span class="delete">use ECN++ with AccECN</span> -</td><td> </td><td class="rblock">      <span class="insert">AccECN can be used without ECN++ and even if</span> it <span class="insert">is, ECN++ does</span> not</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      only deployment experience will tell.  Also, TCP ACKs might be</td><td> </td><td class="rblock">      <span class="insert">have</span> to <span class="insert">make pure ACKs ECN-capable</span> - only deployment experience</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      ECN-capable owing to some scheme other than AccECN, e.g. [RFC5690]</td><td> </td><td class="rblock">      will tell.  Also, TCP ACKs might be ECN-capable owing to some</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      or some future standards action.  Again, only deployment</td><td> </td><td class="rblock">      scheme other than AccECN, e.g. [RFC5690] or some future standards</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      experience will tell.</td><td> </td><td class="rblock">      action.  Again, only deployment experience will tell.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   *  The main concern with preserving correct AccECN operation involves</td><td> </td><td class="right">   *  The main concern with preserving correct AccECN operation involves</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      leaving enough ACKs for the Data Sender to work out whether the</td><td> </td><td class="right">      leaving enough ACKs for the Data Sender to work out whether the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      3-bit ACE field has wrapped.  In the worst case, in feedback about</td><td> </td><td class="right">      3-bit ACE field has wrapped.  In the worst case, in feedback about</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      a run of received packets that were all ECN-marked, the ACE field</td><td> </td><td class="right">      a run of received packets that were all ECN-marked, the ACE field</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      will wrap every 8 acknowledged packets.  ACE field wrap might be</td><td> </td><td class="right">      will wrap every 8 acknowledged packets.  ACE field wrap might be</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      of less concern if packets also carry AccECN TCP Options.</td><td> </td><td class="right">      of less concern if packets also carry AccECN TCP Options.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      However, note that logic to read an AccECN TCP Option is optional</td><td> </td><td class="right">      However, note that logic to read an AccECN TCP Option is optional</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      to implement (albeit recommended -- see Section 3.2.3).  So one</td><td> </td><td class="right">      to implement (albeit recommended -- see Section 3.2.3).  So one</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      end writing an AccECN TCP Option into a packet does not</td><td> </td><td class="right">      end writing an AccECN TCP Option into a packet does not</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-17" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-17"><em> page 42, line 19<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-17"><em> page 47, line 19<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   network interface and rarely in its own 'box').</td><td> </td><td class="right">   network interface and rarely in its own 'box').</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   The ACE field changes with every received CE marking, so today's</td><td> </td><td class="right">   The ACE field changes with every received CE marking, so today's</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   receive offloading could lead to many interrupts in high congestion</td><td> </td><td class="right">   receive offloading could lead to many interrupts in high congestion</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   situations.  Although that would be useful (because congestion</td><td> </td><td class="right">   situations.  Although that would be useful (because congestion</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   information is received sooner), it could also significantly increase</td><td> </td><td class="right">   information is received sooner), it could also significantly increase</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   processor load, particularly in scenarios such as DCTCP or L4S where</td><td> </td><td class="right">   processor load, particularly in scenarios such as DCTCP or L4S where</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the marking rate is generally higher.</td><td> </td><td class="right">   the marking rate is generally higher.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Current offload hardware ejects a segment from the coalescing process</td><td> </td><td class="right">   Current offload hardware ejects a segment from the coalescing process</td><td class="lineno"><br></td></tr>
      <tr id="diff0064"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   whenever the TCP ECN flags change.  <span class="delete">Thus Classic ECN causes offload</span></td><td> </td><td class="rblock">   whenever the TCP ECN flags change.  In data centres it has been</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">   to be inefficient.</span>  In data centres it has been fortunate for this</td><td> </td><td class="rblock">   fortunate for this offload hardware that DCTCP-style feedback changes</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   offload hardware that DCTCP-style feedback changes less often when</td><td> </td><td class="rblock">   less often when there are long sequences of CE marks, which is more</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   there are long sequences of CE marks, which is more common with a</td><td> </td><td class="rblock">   common with a step marking threshold (but less likely the more short</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   step marking threshold (but less likely the more short flows are in</td><td> </td><td class="rblock">   flows are in the mix).  The ACE counter approach has been designed so</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   the mix).  The ACE counter approach has been designed so that</td><td> </td><td class="rblock">   that coalescing can continue over arbitrary patterns of marking and</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   coalescing can continue over arbitrary patterns of marking and only</td><td> </td><td class="rblock">   only needs to stop when the counter wraps.  Nonetheless, until the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   needs to stop when the counter wraps.  Nonetheless, until the</td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   particular offload hardware in use implements this more efficient</td><td> </td><td class="right">   particular offload hardware in use implements this more efficient</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   approach, it is likely to be more efficient for AccECN connections to</td><td> </td><td class="right">   approach, it is likely to be more efficient for AccECN connections to</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   implement this counter-style logic using software segmentation</td><td> </td><td class="right">   implement this counter-style logic using software segmentation</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   offload.</td><td> </td><td class="right">   offload.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ECN encodes a varying signal in the ACK stream, so it is inevitable</td><td> </td><td class="right">   ECN encodes a varying signal in the ACK stream, so it is inevitable</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   that offload hardware will ultimately need to handle any form of ECN</td><td> </td><td class="right">   that offload hardware will ultimately need to handle any form of ECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   feedback exceptionally.  The ACE field has been designed as a counter</td><td> </td><td class="right">   feedback exceptionally.  The ACE field has been designed as a counter</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   so that it is straightforward for offload hardware to pass on the</td><td> </td><td class="right">   so that it is straightforward for offload hardware to pass on the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   highest counter, and to push a segment from its cache before the</td><td> </td><td class="right">   highest counter, and to push a segment from its cache before the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-18" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-18"><em> page 43, line 50<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-18"><em> page 48, line 50<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         "the TCP data receiver SHOULD ignore the ECN field on arriving</td><td> </td><td class="right">         "the TCP data receiver SHOULD ignore the ECN field on arriving</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         data packets that are outside of the receiver's current</td><td> </td><td class="right">         data packets that are outside of the receiver's current</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">         window."</td><td> </td><td class="right">         window."</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      is updated by more stringent acceptability tests for any packet</td><td> </td><td class="right">      is updated by more stringent acceptability tests for any packet</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      (not just data packets) in the present specification.</td><td> </td><td class="right">      (not just data packets) in the present specification.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      Specifically, in the normative specification of AccECN (Section 3)</td><td> </td><td class="right">      Specifically, in the normative specification of AccECN (Section 3)</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      only 'Acceptable' packets contribute to the ECN counters at the</td><td> </td><td class="right">      only 'Acceptable' packets contribute to the ECN counters at the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      AccECN receiver and Section 1.3 defines an Acceptable packet as</td><td> </td><td class="right">      AccECN receiver and Section 1.3 defines an Acceptable packet as</td><td class="lineno"><br></td></tr>
      <tr id="diff0065"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      one that passes <span class="delete">the</span> acceptability tests in both [RFC9293] and</td><td> </td><td class="rblock">      one that passes acceptability tests <span class="insert">equivalent in strength to</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      [RFC5961].</td><td> </td><td class="rblock"><span class="insert">      those</span> in both [RFC9293] and [RFC5961].</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   *  Sections 5.2, 6.1.1, 6.1.4, 6.1.5 and 6.1.6 of [RFC3168] prohibit</td><td> </td><td class="right">   *  Sections 5.2, 6.1.1, 6.1.4, 6.1.5 and 6.1.6 of [RFC3168] prohibit</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      use of ECN on TCP control packets and retransmissions.  The</td><td> </td><td class="right">      use of ECN on TCP control packets and retransmissions.  The</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      present specification does not update that aspect of RFC 3168, but</td><td> </td><td class="right">      present specification does not update that aspect of RFC 3168, but</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      it does say what feedback an AccECN Data Receiver ought to provide</td><td> </td><td class="right">      it does say what feedback an AccECN Data Receiver ought to provide</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      if it receives an ECN-capable control packet or retransmission.</td><td> </td><td class="right">      if it receives an ECN-capable control packet or retransmission.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      This ensures AccECN is forward compatible with any future scheme</td><td> </td><td class="right">      This ensures AccECN is forward compatible with any future scheme</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      that allows ECN on these packets, as provided for in section 4.3</td><td> </td><td class="right">      that allows ECN on these packets, as provided for in section 4.3</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      of [RFC8311] and as proposed in [I-D.ietf-tcpm-generalized-ecn].</td><td> </td><td class="right">      of [RFC8311] and as proposed in [I-D.ietf-tcpm-generalized-ecn].</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-19" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-19"><em> page 45, line 30<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-19"><em> page 50, line 30<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Implementers of TFO need to take careful note of the recommendation</td><td> </td><td class="right">   Implementers of TFO need to take careful note of the recommendation</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   in Section 3.2.2.1.  That section recommends that, if the TCP Client</td><td> </td><td class="right">   in Section 3.2.2.1.  That section recommends that, if the TCP Client</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   has successfully negotiated AccECN, when acknowledging the SYN/ACK,</td><td> </td><td class="right">   has successfully negotiated AccECN, when acknowledging the SYN/ACK,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   even if it has data to send, it sends a pure ACK immediately before</td><td> </td><td class="right">   even if it has data to send, it sends a pure ACK immediately before</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the data.  Then it can reflect the IP-ECN field of the SYN/ACK on</td><td> </td><td class="right">   the data.  Then it can reflect the IP-ECN field of the SYN/ACK on</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   this pure ACK, which allows the Server to detect ECN mangling.  Note</td><td> </td><td class="right">   this pure ACK, which allows the Server to detect ECN mangling.  Note</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   that, as specified in Section 3.2, any data on the SYN (SYN=1, ACK=0)</td><td> </td><td class="right">   that, as specified in Section 3.2, any data on the SYN (SYN=1, ACK=0)</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   is not included in any of the byte counters held locally for each ECN</td><td> </td><td class="right">   is not included in any of the byte counters held locally for each ECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   marking, nor in the AccECN Option on the wire.</td><td> </td><td class="right">   marking, nor in the AccECN Option on the wire.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0066"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   <span class="insert">AccECN feedback is compatible with the ECN++</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   [I-D.ietf-tcpm-generalized-ecn] experiment, which allows TCP control</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   packets and retransmissions to be ECN-capable ([RFC3168] was updated</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   by [RFC8311] to permit such experiments).  AccECN is likely to</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   inherently support any experiment with ECN-capable packets, because</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   it feeds back the contents of the ECN field mechanistically, without</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   judging whether a packet ought to use the ECN capability or not</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   (Section 2.5).  This specification does not discuss implementing</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   AccECN alongside [RFC5562], which was an earlier experimental</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   protocol with narrower scope than ECN++ and a 5-way handshake.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">5.3.  Compatibility with Feedback Integrity Mechanisms</td><td> </td><td class="right">5.3.  Compatibility with Feedback Integrity Mechanisms</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Three alternative mechanisms are available to assure the integrity of</td><td> </td><td class="right">   Three alternative mechanisms are available to assure the integrity of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ECN and/or loss signals.  AccECN is compatible with any of these</td><td> </td><td class="right">   ECN and/or loss signals.  AccECN is compatible with any of these</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   approaches:</td><td> </td><td class="right">   approaches:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   *  The Data Sender can test the integrity of the receiver's ECN (or</td><td> </td><td class="right">   *  The Data Sender can test the integrity of the receiver's ECN (or</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      loss) feedback by occasionally setting the IP-ECN field to a value</td><td> </td><td class="right">      loss) feedback by occasionally setting the IP-ECN field to a value</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      normally only set by the network (and/or deliberately leaving a</td><td> </td><td class="right">      normally only set by the network (and/or deliberately leaving a</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      sequence number gap).  Then it can test whether the Data</td><td> </td><td class="right">      sequence number gap).  Then it can test whether the Data</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-20" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-20"><em> page 49, line 9<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-20"><em> page 54, line 31<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [TO BE REMOVED: IANA is requested to update the existing entry in the</td><td> </td><td class="right">   [TO BE REMOVED: IANA is requested to update the existing entry in the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   TCP Header Flags registry (https://www.iana.org/assignments/tcp-</td><td> </td><td class="right">   TCP Header Flags registry (https://www.iana.org/assignments/tcp-</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   parameters/tcp-parameters.xhtml#tcp-header-flags) for Bit 7 to "AE</td><td> </td><td class="right">   parameters/tcp-parameters.xhtml#tcp-header-flags) for Bit 7 to "AE</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   (Accurate ECN)" and to change the reference to this RFC-to-be instead</td><td> </td><td class="right">   (Accurate ECN)" and to change the reference to this RFC-to-be instead</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   of RFC8311.  Also IANA is requested to change the assignment note to</td><td> </td><td class="right">   of RFC8311.  Also IANA is requested to change the assignment note to</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   "Previously used as NS (Nonce Sum) by [RFC3540], which is now</td><td> </td><td class="right">   "Previously used as NS (Nonce Sum) by [RFC3540], which is now</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   historic [RFC8311]."]</td><td> </td><td class="right">   historic [RFC8311]."]</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   This document also defines two new TCP options for AccECN, assigned</td><td> </td><td class="right">   This document also defines two new TCP options for AccECN, assigned</td><td class="lineno"><br></td></tr>
      <tr id="diff0067"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   values of 172 and 17<span class="delete">3</span> (decimal) from the TCP option space.  These</td><td> </td><td class="rblock">   values of 172 and 17<span class="insert">4</span> (decimal) from the TCP option space.  These</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   values are defined as:</td><td> </td><td class="right">   values are defined as:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +======+========+================================+===========+</td><td> </td><td class="right">      +======+========+================================+===========+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | Kind | Length | Meaning                        | Reference |</td><td> </td><td class="right">      | Kind | Length | Meaning                        | Reference |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +======+========+================================+===========+</td><td> </td><td class="right">      +======+========+================================+===========+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      | 172  | N      | Accurate ECN Order 0 (AccECN0) | RFC XXXX  |</td><td> </td><td class="right">      | 172  | N      | Accurate ECN Order 0 (AccECN0) | RFC XXXX  |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +------+--------+--------------------------------+-----------+</td><td> </td><td class="right">      +------+--------+--------------------------------+-----------+</td><td class="lineno"><br></td></tr>
      <tr id="diff0068"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">      | 17<span class="delete">3</span>  | N      | Accurate ECN Order 1 (AccECN1) | RFC XXXX  |</td><td> </td><td class="rblock">      | 17<span class="insert">4</span>  | N      | Accurate ECN Order 1 (AccECN1) | RFC XXXX  |</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      +------+--------+--------------------------------+-----------+</td><td> </td><td class="right">      +------+--------+--------------------------------+-----------+</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">                   Table 7: New TCP Option assignments</td><td> </td><td class="right">                   Table 7: New TCP Option assignments</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [TO BE REMOVED: These registrations have taken place using the early</td><td> </td><td class="right">   [TO BE REMOVED: These registrations have taken place using the early</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   registration procedure, which may be temporary if this draft does not</td><td> </td><td class="right">   registration procedure, which may be temporary if this draft does not</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   proceed, at the following location: http://www.iana.org/assignments/</td><td> </td><td class="right">   proceed, at the following location: http://www.iana.org/assignments/</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   tcp-parameters/tcp-parameters.xhtml#tcp-parameters-1 ]</td><td> </td><td class="right">   tcp-parameters/tcp-parameters.xhtml#tcp-parameters-1 ]</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Early experimental implementations of the two AccECN Options used</td><td> </td><td class="right">   Early experimental implementations of the two AccECN Options used</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   experimental option 254 per [RFC6994] with the 16-bit magic numbers</td><td> </td><td class="right">   experimental option 254 per [RFC6994] with the 16-bit magic numbers</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   0xACC0 and 0xACC1 respectively for Order 0 and 1, as allocated in the</td><td> </td><td class="right">   0xACC0 and 0xACC1 respectively for Order 0 and 1, as allocated in the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   IANA "TCP Experimental Option Experiment Identifiers (TCP ExIDs)"</td><td> </td><td class="right">   IANA "TCP Experimental Option Experiment Identifiers (TCP ExIDs)"</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   registry.  Even earlier experimental implementations used the single</td><td> </td><td class="right">   registry.  Even earlier experimental implementations used the single</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   magic number 0xACCE (16 bits).  Uses of these experimental options</td><td> </td><td class="right">   magic number 0xACCE (16 bits).  Uses of these experimental options</td><td class="lineno"><br></td></tr>
      <tr id="diff0069"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   SHOULD migrate to use the new option kinds (172 &amp; 17<span class="delete">3</span>).</td><td> </td><td class="rblock">   SHOULD migrate to use the new option kinds (172 &amp; 17<span class="insert">4</span>).</td><td class="lineno">!!<br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [TO BE REMOVED: IANA is requested to replace the references for all</td><td> </td><td class="right">   [TO BE REMOVED: IANA is requested to replace the references for all</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   three of the above experimental options (0xACC0, 0xACC1 and 0xACCE)</td><td> </td><td class="right">   three of the above experimental options (0xACC0, 0xACC1 and 0xACCE)</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   with a reference to the present RFC XXXX.]</td><td> </td><td class="right">   with a reference to the present RFC XXXX.]</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [TO BE REMOVED: If the early registrations, which may be temporary,</td><td> </td><td class="right">   [TO BE REMOVED: If the early registrations, which may be temporary,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   do not proceed, the three references to them in the TCP ExIDs</td><td> </td><td class="right">   do not proceed, the three references to them in the TCP ExIDs</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   registry at the following location will also need to be edited out:</td><td> </td><td class="right">   registry at the following location will also need to be edited out:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   https://www.iana.org/assignments/tcp-parameters/tcp-</td><td> </td><td class="right">   https://www.iana.org/assignments/tcp-parameters/tcp-</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   parameters.xhtml#tcp-exids ]</td><td> </td><td class="right">   parameters.xhtml#tcp-exids ]</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-21" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-21"><em> page 51, line 16<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-21"><em> page 56, line 29<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   omit AccECN Options pretending that they had been stripped by a</td><td> </td><td class="right">   omit AccECN Options pretending that they had been stripped by a</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   middlebox.  No known way can yet be contrived for a receiver to take</td><td> </td><td class="right">   middlebox.  No known way can yet be contrived for a receiver to take</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   advantage of this behaviour, which seems to always degrade its own</td><td> </td><td class="right">   advantage of this behaviour, which seems to always degrade its own</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   performance.  However, the concern is mentioned here for</td><td> </td><td class="right">   performance.  However, the concern is mentioned here for</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   completeness.</td><td> </td><td class="right">   completeness.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">9.  References</td><td> </td><td class="right">9.  References</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">9.1.  Normative References</td><td> </td><td class="right">9.1.  Normative References</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0070"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   <span class="insert">[RFC2018]  Mathis, M., Mahdavi, J., Floyd, S., and A. Romanow, "TCP</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              Selective Acknowledgment Options", RFC 2018,</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              DOI 10.17487/RFC2018, October 1996,</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              &lt;https://www.rfc-editor.org/info/rfc2018&gt;.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate</td><td> </td><td class="right">   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Requirement Levels", BCP 14, RFC 2119,</td><td> </td><td class="right">              Requirement Levels", BCP 14, RFC 2119,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              DOI 10.17487/RFC2119, March 1997,</td><td> </td><td class="right">              DOI 10.17487/RFC2119, March 1997,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc2119&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc2119&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC3168]  Ramakrishnan, K., Floyd, S., and D. Black, "The Addition</td><td> </td><td class="right">   [RFC3168]  Ramakrishnan, K., Floyd, S., and D. Black, "The Addition</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              of Explicit Congestion Notification (ECN) to IP",</td><td> </td><td class="right">              of Explicit Congestion Notification (ECN) to IP",</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              RFC 3168, DOI 10.17487/RFC3168, September 2001,</td><td> </td><td class="right">              RFC 3168, DOI 10.17487/RFC3168, September 2001,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc3168&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc3168&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0071"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">[RFC5681]  Allman, M., Paxson, V.,</span> and <span class="delete">E. Blanton, "TCP Congestion</span></td><td> </td><td class="rblock">   <span class="insert">[RFC5961]  Ramaiah, A., Stewart, R.,</span> and <span class="insert">M. Dalal, "Improving TCP's</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">              Control",</span> RFC <span class="delete">5681,</span> DOI <span class="delete">10.17487/RFC5681, September 2009,</span></td><td> </td><td class="rblock"><span class="insert">              Robustness to Blind In-Window Attacks",</span> RFC <span class="insert">5961,</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">              &lt;https://www.rfc-editor.org/info/rfc5681&gt;.</span></td><td> </td><td class="rblock">              DOI <span class="insert">10.17487/RFC5961, August 2010,</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              &lt;https://www.rfc-editor.org/info/rfc5961&gt;.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC</td><td> </td><td class="right">   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,</td><td> </td><td class="right">              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              May 2017, &lt;https://www.rfc-editor.org/info/rfc8174&gt;.</td><td> </td><td class="right">              May 2017, &lt;https://www.rfc-editor.org/info/rfc8174&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC9293]  Eddy, W., Ed., "Transmission Control Protocol (TCP)",</td><td> </td><td class="right">   [RFC9293]  Eddy, W., Ed., "Transmission Control Protocol (TCP)",</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              STD 7, RFC 9293, DOI 10.17487/RFC9293, August 2022,</td><td> </td><td class="right">              STD 7, RFC 9293, DOI 10.17487/RFC9293, August 2022,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc9293&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc9293&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">9.2.  Informative References</td><td> </td><td class="right">9.2.  Informative References</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [I-D.ietf-tcpm-generalized-ecn]</td><td> </td><td class="right">   [I-D.ietf-tcpm-generalized-ecn]</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Bagnulo, M. and B. Briscoe, "ECN++: Adding Explicit</td><td> </td><td class="right">              Bagnulo, M. and B. Briscoe, "ECN++: Adding Explicit</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Congestion Notification (ECN) to TCP Control Packets",</td><td> </td><td class="right">              Congestion Notification (ECN) to TCP Control Packets",</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Work in Progress, Internet-Draft, draft-ietf-tcpm-</td><td> </td><td class="right">              Work in Progress, Internet-Draft, draft-ietf-tcpm-</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              generalized-ecn-11, 21 February 2023,</td><td> </td><td class="right">              generalized-ecn-11, 21 February 2023,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://datatracker.ietf.org/doc/html/draft-ietf-tcpm-</td><td> </td><td class="right">              &lt;https://datatracker.ietf.org/doc/html/draft-ietf-tcpm-</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              generalized-ecn-11&gt;.</td><td> </td><td class="right">              generalized-ecn-11&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0072"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   <span class="insert">[I-D.ietf-tcpm-rfc8312bis]</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              Xu, L., Ha, S., Rhee, I., Goel, V., and L. Eggert, "CUBIC</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              for Fast and Long-Distance Networks", Work in Progress,</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              Internet-Draft, draft-ietf-tcpm-rfc8312bis-15, 31 January</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              2023, &lt;https://datatracker.ietf.org/doc/html/draft-ietf-</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              tcpm-rfc8312bis-15&gt;.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [Mandalari18]</td><td> </td><td class="right">   [Mandalari18]</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Mandalari, A., Lutu, A., Briscoe, B., Bagnulo, M., and Ö.</td><td> </td><td class="right">              Mandalari, A., Lutu, A., Briscoe, B., Bagnulo, M., and Ö.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Alay, "Measuring ECN++: Good News for ++, Bad News for ECN</td><td> </td><td class="right">              Alay, "Measuring ECN++: Good News for ++, Bad News for ECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              over Mobile", IEEE Communications Magazine , March 2018,</td><td> </td><td class="right">              over Mobile", IEEE Communications Magazine , March 2018,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;http://www.it.uc3m.es/amandala/</td><td> </td><td class="right">              &lt;http://www.it.uc3m.es/amandala/</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              ecn++/ecn_commag_2018.html&gt;.</td><td> </td><td class="right">              ecn++/ecn_commag_2018.html&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0073"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">[RFC2018]  Mathis, M., Mahdavi, J., Floyd, S., and A. Romanow, "TCP</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">              Selective Acknowledgment Options", RFC 2018,</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">              DOI 10.17487/RFC2018, October 1996,</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">              &lt;https://www.rfc-editor.org/info/rfc2018&gt;.</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">                                                                         </td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC3449]  Balakrishnan, H., Padmanabhan, V., Fairhurst, G., and M.</td><td> </td><td class="right">   [RFC3449]  Balakrishnan, H., Padmanabhan, V., Fairhurst, G., and M.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Sooriyabandara, "TCP Performance Implications of Network</td><td> </td><td class="right">              Sooriyabandara, "TCP Performance Implications of Network</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Path Asymmetry", BCP 69, RFC 3449, DOI 10.17487/RFC3449,</td><td> </td><td class="right">              Path Asymmetry", BCP 69, RFC 3449, DOI 10.17487/RFC3449,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              December 2002, &lt;https://www.rfc-editor.org/info/rfc3449&gt;.</td><td> </td><td class="right">              December 2002, &lt;https://www.rfc-editor.org/info/rfc3449&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC3540]  Spring, N., Wetherall, D., and D. Ely, "Robust Explicit</td><td> </td><td class="right">   [RFC3540]  Spring, N., Wetherall, D., and D. Ely, "Robust Explicit</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Congestion Notification (ECN) Signaling with Nonces",</td><td> </td><td class="right">              Congestion Notification (ECN) Signaling with Nonces",</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              RFC 3540, DOI 10.17487/RFC3540, June 2003,</td><td> </td><td class="right">              RFC 3540, DOI 10.17487/RFC3540, June 2003,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc3540&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc3540&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC4987]  Eddy, W., "TCP SYN Flooding Attacks and Common</td><td> </td><td class="right">   [RFC4987]  Eddy, W., "TCP SYN Flooding Attacks and Common</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Mitigations", RFC 4987, DOI 10.17487/RFC4987, August 2007,</td><td> </td><td class="right">              Mitigations", RFC 4987, DOI 10.17487/RFC4987, August 2007,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc4987&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc4987&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC5562]  Kuzmanovic, A., Mondal, A., Floyd, S., and K.</td><td> </td><td class="right">   [RFC5562]  Kuzmanovic, A., Mondal, A., Floyd, S., and K.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Ramakrishnan, "Adding Explicit Congestion Notification</td><td> </td><td class="right">              Ramakrishnan, "Adding Explicit Congestion Notification</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              (ECN) Capability to TCP's SYN/ACK Packets", RFC 5562,</td><td> </td><td class="right">              (ECN) Capability to TCP's SYN/ACK Packets", RFC 5562,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              DOI 10.17487/RFC5562, June 2009,</td><td> </td><td class="right">              DOI 10.17487/RFC5562, June 2009,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc5562&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc5562&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0074"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   <span class="insert">[RFC5681]  Allman, M., Paxson, V., and E. Blanton, "TCP Congestion</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              Control", RFC 5681, DOI 10.17487/RFC5681, September 2009,</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              &lt;https://www.rfc-editor.org/info/rfc5681&gt;.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC5690]  Floyd, S., Arcia, A., Ros, D., and J. Iyengar, "Adding</td><td> </td><td class="right">   [RFC5690]  Floyd, S., Arcia, A., Ros, D., and J. Iyengar, "Adding</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Acknowledgement Congestion Control to TCP", RFC 5690,</td><td> </td><td class="right">              Acknowledgement Congestion Control to TCP", RFC 5690,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              DOI 10.17487/RFC5690, February 2010,</td><td> </td><td class="right">              DOI 10.17487/RFC5690, February 2010,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc5690&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc5690&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC5925]  Touch, J., Mankin, A., and R. Bonica, "The TCP</td><td> </td><td class="right">   [RFC5925]  Touch, J., Mankin, A., and R. Bonica, "The TCP</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Authentication Option", RFC 5925, DOI 10.17487/RFC5925,</td><td> </td><td class="right">              Authentication Option", RFC 5925, DOI 10.17487/RFC5925,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              June 2010, &lt;https://www.rfc-editor.org/info/rfc5925&gt;.</td><td> </td><td class="right">              June 2010, &lt;https://www.rfc-editor.org/info/rfc5925&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0075"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">[RFC5961]  Ramaiah, A., Stewart, R., and M. Dalal, "Improving TCP's</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">              Robustness to Blind In-Window Attacks", RFC 5961,</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">              DOI 10.17487/RFC5961, August 2010,</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><span class="delete">              &lt;https://www.rfc-editor.org/info/rfc5961&gt;.</span></td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">                                                                         </td><td> </td><td class="rblock"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC6994]  Touch, J., "Shared Use of Experimental TCP Options",</td><td> </td><td class="right">   [RFC6994]  Touch, J., "Shared Use of Experimental TCP Options",</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              RFC 6994, DOI 10.17487/RFC6994, August 2013,</td><td> </td><td class="right">              RFC 6994, DOI 10.17487/RFC6994, August 2013,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc6994&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc6994&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0076"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   <span class="insert">[RFC7323]  Borman, D., Braden, B., Jacobson, V., and R.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              Scheffenegger, Ed., "TCP Extensions for High Performance",</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              RFC 7323, DOI 10.17487/RFC7323, September 2014,</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">              &lt;https://www.rfc-editor.org/info/rfc7323&gt;.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC7413]  Cheng, Y., Chu, J., Radhakrishnan, S., and A. Jain, "TCP</td><td> </td><td class="right">   [RFC7413]  Cheng, Y., Chu, J., Radhakrishnan, S., and A. Jain, "TCP</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              Fast Open", RFC 7413, DOI 10.17487/RFC7413, December 2014,</td><td> </td><td class="right">              Fast Open", RFC 7413, DOI 10.17487/RFC7413, December 2014,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc7413&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc7413&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC7560]  Kuehlewind, M., Ed., Scheffenegger, R., and B. Briscoe,</td><td> </td><td class="right">   [RFC7560]  Kuehlewind, M., Ed., Scheffenegger, R., and B. Briscoe,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              "Problem Statement and Requirements for Increased Accuracy</td><td> </td><td class="right">              "Problem Statement and Requirements for Increased Accuracy</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              in Explicit Congestion Notification (ECN) Feedback",</td><td> </td><td class="right">              in Explicit Congestion Notification (ECN) Feedback",</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              RFC 7560, DOI 10.17487/RFC7560, August 2015,</td><td> </td><td class="right">              RFC 7560, DOI 10.17487/RFC7560, August 2015,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc7560&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc7560&gt;.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-22" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-22"><em> page 54, line 39<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-22"><em> page 60, line 10<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Whenever it sends an ACK with an AccECN Option, the value it writes</td><td> </td><td class="right">   Whenever it sends an ACK with an AccECN Option, the value it writes</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   into the ECEB field is</td><td> </td><td class="right">   into the ECEB field is</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      ECEB = r.ceb % DIVOPT</td><td> </td><td class="right">      ECEB = r.ceb % DIVOPT</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   where '%' is the remainder operator.</td><td> </td><td class="right">   where '%' is the remainder operator.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   On the arrival of an AccECN Option, the Data Sender first makes sure</td><td> </td><td class="right">   On the arrival of an AccECN Option, the Data Sender first makes sure</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the ACK has not been superseded in order to avoid winding the s.ceb</td><td> </td><td class="right">   the ACK has not been superseded in order to avoid winding the s.ceb</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   counter backwards.  It uses the TCP acknowledgement number and any</td><td> </td><td class="right">   counter backwards.  It uses the TCP acknowledgement number and any</td><td class="lineno"><br></td></tr>
      <tr id="diff0077"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   SACK options to calculate newlyAckedB, the amount of new data that</td><td> </td><td class="rblock">   SACK options <span class="insert">[RFC2018]</span> to calculate newlyAckedB, the amount of new</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   the ACK acknowledges in bytes (newlyAckedB can be zero but not</td><td> </td><td class="rblock">   data that the ACK acknowledges in bytes (newlyAckedB can be zero but</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   negative).  If newlyAckedB is zero, either the ACK has been</td><td> </td><td class="rblock">   not negative).  If newlyAckedB is zero, either the ACK has been</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   superseded or CE-marked packet(s) without data could have arrived.</td><td> </td><td class="right">   superseded or CE-marked packet(s) without data could have arrived.</td><td class="lineno"><br></td></tr>
      <tr id="diff0078"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   To break the tie for the latter case, the Data Sender could use</td><td> </td><td class="rblock">   To break the tie for the latter case, the Data Sender could use <span class="insert">time-</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   <span class="delete">timestamps</span> (if present) to work out newlyAckedT, the amount of new</td><td> </td><td class="rblock"><span class="insert">   stamps [RFC7323]</span> (if present) to work out newlyAckedT, the amount of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   time that the ACK acknowledges.  If the Data Sender determines that</td><td> </td><td class="rblock">   new time that the ACK acknowledges.  If the Data Sender determines</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   the ACK has been superseded it ignores the AccECN Option.  Otherwise,</td><td> </td><td class="rblock">   that the ACK has been superseded it ignores the AccECN Option.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   the Data Sender calculates the minimum non-negative difference d.ceb</td><td> </td><td class="rblock">   Otherwise, the Data Sender calculates the minimum non-negative</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   between the ECEB field and its local s.ceb counter, using modulo</td><td> </td><td class="rblock">   difference d.ceb between the ECEB field and its local s.ceb counter,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   arithmetic as follows:</td><td> </td><td class="rblock">   using modulo arithmetic as follows:</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      if ((newlyAckedB &gt; 0) || (newlyAckedT &gt; 0)) {</td><td> </td><td class="right">      if ((newlyAckedB &gt; 0) || (newlyAckedT &gt; 0)) {</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">          d.ceb = (ECEB + DIVOPT - (s.ceb % DIVOPT)) % DIVOPT</td><td> </td><td class="right">          d.ceb = (ECEB + DIVOPT - (s.ceb % DIVOPT)) % DIVOPT</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">          s.ceb += d.ceb</td><td> </td><td class="right">          s.ceb += d.ceb</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      }</td><td> </td><td class="right">      }</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   For example, if s.ceb is 33,554,433 and ECEB is 1461 (both decimal),</td><td> </td><td class="right">   For example, if s.ceb is 33,554,433 and ECEB is 1461 (both decimal),</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   then</td><td> </td><td class="right">   then</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      s.ceb % DIVOPT = 1</td><td> </td><td class="right">      s.ceb % DIVOPT = 1</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-23" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-23"><em> page 60, line 32<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-23"><em> page 66, line 8<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   For this approach to be precise, it has to be assumed that spurious</td><td> </td><td class="right">   For this approach to be precise, it has to be assumed that spurious</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   (unnecessary) retransmissions do not lead to double counting.  This</td><td> </td><td class="right">   (unnecessary) retransmissions do not lead to double counting.  This</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   assumption is currently correct, given that RFC 3168 requires that</td><td> </td><td class="right">   assumption is currently correct, given that RFC 3168 requires that</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the Data Sender marks retransmitted segments as Not-ECT.  However,</td><td> </td><td class="right">   the Data Sender marks retransmitted segments as Not-ECT.  However,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the converse is not true; necessary retransmissions will result in</td><td> </td><td class="right">   the converse is not true; necessary retransmissions will result in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   under-counting.</td><td> </td><td class="right">   under-counting.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   However, such precision is unlikely to be necessary.  The only known</td><td> </td><td class="right">   However, such precision is unlikely to be necessary.  The only known</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   use of a count of Not-ECT marked bytes is to test whether equipment</td><td> </td><td class="right">   use of a count of Not-ECT marked bytes is to test whether equipment</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   on the path is clearing the ECN field (perhaps due to an out-dated</td><td> </td><td class="right">   on the path is clearing the ECN field (perhaps due to an out-dated</td><td class="lineno"><br></td></tr>
      <tr id="diff0079"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   attempt to clear, or bleach, what used to be the ToS field).  To</td><td> </td><td class="rblock">   attempt to clear, or bleach, what used to be the <span class="insert">IPv4</span> ToS <span class="insert">byte or the</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   detect bleaching it will be sufficient to detect whether nearly all</td><td> </td><td class="rblock"><span class="insert">   IPv6 Traffic Class</span> field).  To detect bleaching it will be sufficient</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   bytes arrive marked as Not-ECT.  Therefore there ought to be no need</td><td> </td><td class="rblock">   to detect whether nearly all bytes arrive marked as Not-ECT.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   to keep track of the details of retransmissions.</td><td> </td><td class="rblock">   Therefore there ought to be no need to keep track of the details of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   retransmissions.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">Appendix B.  Rationale for Usage of TCP Header Flags</td><td> </td><td class="right">Appendix B.  Rationale for Usage of TCP Header Flags</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">B.1.  Three TCP Header Flags in the SYN-SYN/ACK Handshake</td><td> </td><td class="right">B.1.  Three TCP Header Flags in the SYN-SYN/ACK Handshake</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   AccECN uses a rather unorthodox approach to negotiate the highest</td><td> </td><td class="right">   AccECN uses a rather unorthodox approach to negotiate the highest</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   version TCP ECN feedback scheme that both ends support, as justified</td><td> </td><td class="right">   version TCP ECN feedback scheme that both ends support, as justified</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   below.  It follows from the original TCP ECN capability negotiation</td><td> </td><td class="right">   below.  It follows from the original TCP ECN capability negotiation</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   [RFC3168], in which the Client set the 2 least significant of the</td><td> </td><td class="right">   [RFC3168], in which the Client set the 2 least significant of the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   original reserved flags in the TCP header, and fell back to no ECN</td><td> </td><td class="right">   original reserved flags in the TCP header, and fell back to no ECN</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-24" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-24"><em> page 61, line 44<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-24"><em> page 67, line 21<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ECN flags.</td><td> </td><td class="right">   ECN flags.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Indeed, having overloaded the original uses of these three flags for</td><td> </td><td class="right">   Indeed, having overloaded the original uses of these three flags for</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   its handshake, AccECN overloads all three bits again as a 3-bit</td><td> </td><td class="right">   its handshake, AccECN overloads all three bits again as a 3-bit</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   counter.</td><td> </td><td class="right">   counter.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">B.2.  Four Codepoints in the SYN/ACK</td><td> </td><td class="right">B.2.  Four Codepoints in the SYN/ACK</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Of the 8 possible codepoints that the 3 TCP header flags can indicate</td><td> </td><td class="right">   Of the 8 possible codepoints that the 3 TCP header flags can indicate</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   on the SYN/ACK, 4 already indicated earlier (or broken) versions of</td><td> </td><td class="right">   on the SYN/ACK, 4 already indicated earlier (or broken) versions of</td><td class="lineno"><br></td></tr>
      <tr id="diff0080"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   ECN <span class="delete">support.</span>  In the early design of AccECN, an AccECN Server could</td><td> </td><td class="rblock">   ECN <span class="insert">support, 1 now being historic.</span>  In the early design of AccECN, an</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   use only 2 of the 4 remaining codepoints.  They both indicated AccECN</td><td> </td><td class="rblock">   AccECN Server could use only 2 of the 4 remaining codepoints.  They</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   support, but one fed back that the SYN had arrived marked as CE.</td><td> </td><td class="rblock">   both indicated AccECN support, but one fed back that the SYN had</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Even though ECN support on a SYN is not yet on the standards track,</td><td> </td><td class="rblock">   arrived marked as CE.  Even though ECN support on a SYN is not yet on</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   the idea is for either end to act as a mechanistic reflector, so that</td><td> </td><td class="rblock">   the standards track, the idea is for either end to act as a</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   future capabilities can be unilaterally deployed without requiring</td><td> </td><td class="rblock">   mechanistic reflector, so that future capabilities can be</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   2-ended deployment (justified in Section 2.5).</td><td> </td><td class="rblock">   unilaterally deployed without requiring 2-ended deployment (justified</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   in Section 2.5).</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   During traversal testing it was discovered that the IP-ECN field in</td><td> </td><td class="right">   During traversal testing it was discovered that the IP-ECN field in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the SYN was mangled on a non-negligible proportion of paths.</td><td> </td><td class="right">   the SYN was mangled on a non-negligible proportion of paths.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Therefore it was necessary to allow the SYN/ACK to feed all four IP-</td><td> </td><td class="right">   Therefore it was necessary to allow the SYN/ACK to feed all four IP-</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   ECN codepoints that the SYN could arrive with back to the Client.</td><td> </td><td class="right">   ECN codepoints that the SYN could arrive with back to the Client.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Without this, the Client could not know whether to disable ECN for</td><td> </td><td class="right">   Without this, the Client could not know whether to disable ECN for</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   the connection due to mangling of the IP-ECN field (also explained in</td><td> </td><td class="right">   the connection due to mangling of the IP-ECN field (also explained in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Section 2.5).  This development consumed the remaining 2 codepoints</td><td> </td><td class="right">   Section 2.5).  This development consumed the remaining 2 codepoints</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   on the SYN/ACK that had been reserved for future use by AccECN in</td><td> </td><td class="right">   on the SYN/ACK that had been reserved for future use by AccECN in</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   earlier versions.</td><td> </td><td class="right">   earlier versions.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="part-25" class="change"><td><br></td><th><small>skipping to change at</small><a href="#part-25"><em> page 63, line 49<span class="hide"> ¶</span></em></a></th><th> <br>
</th><th><small>skipping to change at</small><a href="#part-25"><em> page 69, line 20<span class="hide"> ¶</span></em></a></th><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      than burning one bit for just one state); a non-zero urgent</td><td> </td><td class="right">      than burning one bit for just one state); a non-zero urgent</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      pointer in combination with the URG flag cleared; or some other</td><td> </td><td class="right">      pointer in combination with the URG flag cleared; or some other</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">      unexpected combination of fields yet to be invented.</td><td> </td><td class="right">      unexpected combination of fields yet to be invented.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">Acknowledgements</td><td> </td><td class="right">Acknowledgements</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   We want to thank Koen De Schepper, Praveen Balasubramanian, Michael</td><td> </td><td class="right">   We want to thank Koen De Schepper, Praveen Balasubramanian, Michael</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Welzl, Gorry Fairhurst, David Black, Spencer Dawkins, Michael Scharf,</td><td> </td><td class="right">   Welzl, Gorry Fairhurst, David Black, Spencer Dawkins, Michael Scharf,</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Michael Tüxen, Yuchung Cheng, Kenjiro Cho, Olivier Tilmans, Ilpo</td><td> </td><td class="right">   Michael Tüxen, Yuchung Cheng, Kenjiro Cho, Olivier Tilmans, Ilpo</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Järvinen, Neal Cardwell, Yoshifumi Nishida, Martin Duke, Jonathan</td><td> </td><td class="right">   Järvinen, Neal Cardwell, Yoshifumi Nishida, Martin Duke, Jonathan</td><td class="lineno"><br></td></tr>
      <tr id="diff0081"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Morton, Vidhi Goel, Alex Burr, Markku <span class="delete">Kojo and</span> Grenville Armitage for</td><td> </td><td class="rblock">   Morton, Vidhi Goel, Alex Burr, Markku <span class="insert">Kojo,</span> Grenville Armitage <span class="insert">and</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   their input and discussion.  The idea of using the three ECN-related</td><td> </td><td class="rblock"><span class="insert">   Wes Eddy</span> for their input and discussion.  The idea of using the three</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   TCP flags as one field for more accurate TCP-ECN feedback was first</td><td> </td><td class="rblock">   ECN-related TCP flags as one field for more accurate TCP-ECN feedback</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   introduced in the re-ECN protocol that was the ancestor of ConEx.</td><td> </td><td class="rblock">   was first introduced in the re-ECN protocol that was the ancestor of</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   ConEx.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr id="diff0082"><td><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Bob Briscoe was part-funded by the Comcast Innovation Fund, the</td><td> </td><td class="rblock">   <span class="insert">The following contributed implementations of AccECN that validated</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   European Community under its Seventh Framework Programme through the</td><td> </td><td class="rblock"><span class="insert">   and helped to improve this specification:</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   Reducing Internet Transport Latency (RITE) project <span class="delete">(ICT-317700)</span> and</td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   through the Trilogy 2 project (ICT-317756), and the Research Council</td><td> </td><td class="rblock"><span class="insert">   Linux:  Mirja Kuehlewind, Ilpo Jaervinen, Neal Cardwell and Chia-Yu</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   of Norway through the TimeIn project.  The views expressed here are</td><td> </td><td class="rblock"><span class="insert">      Chang;</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock">   solely those of the authors.</td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   FreeBSD:  Richard Scheffenegger;</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert"></span><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   Apple OSs:  Vidhi Goel.</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   Bob Briscoe was part-funded by <span class="insert">Apple Inc,</span> the Comcast Innovation</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   Fund, the European Community under its Seventh Framework Programme</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   through the Reducing Internet Transport Latency (RITE) project <span class="insert">(ICT-</span></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock"><span class="insert">   317700)</span> and through the Trilogy 2 project (ICT-317756), and the</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   Research Council of Norway through the TimeIn project.  The views</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="lblock"><br></td><td> </td><td class="rblock">   expressed here are solely those of the authors.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Mirja Kühlewind was partly supported by the European Commission under</td><td> </td><td class="right">   Mirja Kühlewind was partly supported by the European Commission under</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   Horizon 2020 grant agreement no. 688421 Measurement and Architecture</td><td> </td><td class="right">   Horizon 2020 grant agreement no. 688421 Measurement and Architecture</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   for a Middleboxed Internet (MAMI), and by the Swiss State Secretariat</td><td> </td><td class="right">   for a Middleboxed Internet (MAMI), and by the Swiss State Secretariat</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   for Education, Research, and Innovation under contract no.  15.0268.</td><td> </td><td class="right">   for Education, Research, and Innovation under contract no.  15.0268.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   This support does not imply endorsement.</td><td> </td><td class="right">   This support does not imply endorsement.</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">Comments Solicited</td><td> </td><td class="right">Comments Solicited</td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td class="lineno"><br></td></tr>
      <tr><td class="lineno"><br></td><td class="left">   This section is to be removed before publishing as an RFC.</td><td> </td><td class="right">   This section is to be removed before publishing as an RFC.</td><td class="lineno"><br></td></tr>

     <tr><td><br></td><td class="left"><br></td><td> </td><td class="right"><br></td><td><br></td></tr>
     <tr id="end" bgcolor="gray"><th colspan="5" align="center">&nbsp;End of changes. 82 change blocks.&nbsp;</th></tr>
     <tr class="stats"><td><br></td><th><i>235 lines changed or deleted</i></th><th><i> </i><br>
</th><th><i>494 lines changed or added</i></th><td><br></td></tr>
     <tr><td colspan="5" class="small" align="center"><br>This html diff was produced by rfcdiff 1.45. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/">http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </tbody></table>
   
   
</body></html>